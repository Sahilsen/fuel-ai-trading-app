import{CHAIN_IDS as e,FuelConnector as t,FuelConnectorEventTypes as n,Provider as r,Wallet as o,FuelConnectorEventType as i,Address as s,transactionRequestify as a,toUtf8Bytes as c,hexlify as u,LocalStorage as l,StorageAbstract as d,urlJoin as h,Predicate as f,getPredicateRoot as p,bn as g,concat as y,ZeroBytes32 as M,calculateGasFee as m,ScriptTransactionRequest as w}from"fuels";import{io as I}from"socket.io-client";import{splitSignature as N,hexlify as b,arrayify as v}from"@ethersproject/bytes";import{Keypair as j}from"@solana/web3.js";import{privateKeyToAccount as A}from"viem/accounts";import{ApiController as D}from"@web3modal/core";import{defaultSolanaConfig as x,createWeb3Modal as T}from"@web3modal/solana";import{hexToBytes as z,hashPersonalMessage as E,fromRpcSig as O,ecrecover as S,pubToAddress as C}from"@ethereumjs/util";import{getChains as _,switchChain as P,disconnect as L,getAccount as k,watchAccount as U,reconnect as R,createConfig as Y,http as Q,injected as W}from"@wagmi/core";import{stringToHex as B}from"viem";import{sepolia as G,mainnet as Z}from"@wagmi/core/chains";import{createWeb3Modal as J}from"@web3modal/wagmi";var F,q,V=Object.create,X=Object.defineProperty,H=Object.getOwnPropertyDescriptor,K=Object.getOwnPropertyNames,$=Object.getPrototypeOf,ee=Object.prototype.hasOwnProperty,te=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)((function(e){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')})),ne=(e,t)=>function(){return t||(0,e[K(e)[0]])((t={exports:{}}).exports,t),t.exports},re=(e,t,n)=>(n=null!=e?V($(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of K(t))ee.call(e,o)||o===n||X(e,o,{get:()=>t[o],enumerable:!(r=H(t,o))||r.enumerable});return e})(e&&e.__esModule?n:X(n,"default",{value:e,enumerable:!0}),e)),oe=(F={"../../node_modules/.pnpm/tsup@8.0.2_@microsoft+api-extractor@7.43.0_@types+node@22.7.5__postcss@8.5.3_ts-node@10.9.2_@_dnhiposiectvzz2u24cwxn7toq/node_modules/tsup/assets/esm_shims.js"(){}},function(){return F&&(q=(0,F[K(F)[0]])(F=0)),q}),ie=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/function/noop.js"(e,t){oe(),t.exports=function(){}}}),se=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/is-value.js"(e,t){oe();var n=ie()();t.exports=function(e){return e!==n&&null!==e}}}),ae=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/normalize-options.js"(e,t){oe();var n=se(),r=Array.prototype.forEach,o=Object.create;t.exports=function(e){var t=o(null);return r.call(arguments,(function(e){n(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)})),t}}}),ce=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/math/sign/is-implemented.js"(e,t){oe(),t.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}}}),ue=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/math/sign/shim.js"(e,t){oe(),t.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}}}),le=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/math/sign/index.js"(e,t){oe(),t.exports=ce()()?Math.sign:ue()}}),de=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/number/to-integer.js"(e,t){oe();var n=le(),r=Math.abs,o=Math.floor;t.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*o(r(e)):e}}}),he=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/number/to-pos-integer.js"(e,t){oe();var n=de(),r=Math.max;t.exports=function(e){return r(0,n(e))}}}),fe=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/lib/resolve-length.js"(e,t){oe();var n=he();t.exports=function(e,t,r){var o;return isNaN(e)?(o=t)>=0?r&&o?o-1:o:1:!1!==e&&n(e)}}}),pe=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/valid-callable.js"(e,t){oe(),t.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}}}),ge=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/valid-value.js"(e,t){oe();var n=se();t.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}}}),ye=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/_iterate.js"(e,t){oe();var n=pe(),r=ge(),o=Function.prototype.bind,i=Function.prototype.call,s=Object.keys,a=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(c,u){var l,d=arguments[2],h=arguments[3];return c=Object(r(c)),n(u),l=s(c),h&&l.sort("function"==typeof h?o.call(h,c):void 0),"function"!=typeof e&&(e=l[e]),i.call(e,l,(function(e,n){return a.call(c,e)?i.call(u,d,c[e],e,c,n):t}))}}}}),Me=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/for-each.js"(e,t){oe(),t.exports=ye()("forEach")}}),me=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/lib/registered-extensions.js"(){oe()}}),we=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/assign/is-implemented.js"(e,t){oe(),t.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}}}),Ie=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/keys/is-implemented.js"(e,t){oe(),t.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}}}),Ne=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/keys/shim.js"(e,t){oe();var n=se(),r=Object.keys;t.exports=function(e){return r(n(e)?Object(e):e)}}}),be=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/keys/index.js"(e,t){oe(),t.exports=Ie()()?Object.keys:Ne()}}),ve=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/assign/shim.js"(e,t){oe();var n=be(),r=ge(),o=Math.max;t.exports=function(e,t){var i,s,a,c=o(arguments.length,2);for(e=Object(r(e)),a=function(n){try{e[n]=t[n]}catch(e){i||(i=e)}},s=1;s<c;++s)n(t=arguments[s]).forEach(a);if(void 0!==i)throw i;return e}}}),je=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/assign/index.js"(e,t){oe(),t.exports=we()()?Object.assign:ve()}}),Ae=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/is-object.js"(e,t){oe();var n=se(),r={function:!0,object:!0};t.exports=function(e){return n(e)&&r[typeof e]||!1}}}),De=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/error/custom.js"(e,t){oe();var n=je(),r=Ae(),o=se(),i=Error.captureStackTrace;t.exports=function(e){var s=new Error(e),a=arguments[1],c=arguments[2];return o(c)||r(a)&&(c=a,a=null),o(c)&&n(s,c),o(a)&&(s.code=a),i&&i(s,t.exports),s}}}),xe=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/mixin.js"(e,t){oe();var n=ge(),r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols;t.exports=function(e,t){var a,c=Object(n(t));if(e=Object(n(e)),i(c).forEach((function(n){try{r(e,n,o(t,n))}catch(e){a=e}})),"function"==typeof s&&s(c).forEach((function(n){try{r(e,n,o(t,n))}catch(e){a=e}})),void 0!==a)throw a;return e}}}),Te=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/function/_define-length.js"(e,t){oe();var n,r,o,i,s=he(),a=function(e,t){return t};try{Object.defineProperty(a,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(e){}1===a.length?(n={configurable:!0,writable:!1,enumerable:!1},r=Object.defineProperty,t.exports=function(e,t){return t=s(t),e.length===t?e:(n.value=t,r(e,"length",n))}):(i=xe(),o=function(){var e=[];return function(t){var n,r=0;if(e[t])return e[t];for(n=[];t--;)n.push("a"+(++r).toString(36));return new Function("fn","return function ("+n.join(", ")+") { return fn.apply(this, arguments); };")}}(),t.exports=function(e,t){var n;if(t=s(t),e.length===t)return e;n=o(t)(e);try{i(n,e)}catch(e){}return n})}}),ze=ne({"../../node_modules/.pnpm/type@2.7.3/node_modules/type/value/is.js"(e,t){oe();t.exports=function(e){return null!=e}}}),Ee=ne({"../../node_modules/.pnpm/type@2.7.3/node_modules/type/object/is.js"(e,t){oe();var n=ze(),r={object:!0,function:!0,undefined:!0};t.exports=function(e){return!!n(e)&&hasOwnProperty.call(r,typeof e)}}}),Oe=ne({"../../node_modules/.pnpm/type@2.7.3/node_modules/type/prototype/is.js"(e,t){oe();var n=Ee();t.exports=function(e){if(!n(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}}}),Se=ne({"../../node_modules/.pnpm/type@2.7.3/node_modules/type/function/is.js"(e,t){oe();var n=Oe();t.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!n(e)}}}),Ce=ne({"../../node_modules/.pnpm/type@2.7.3/node_modules/type/plain-function/is.js"(e,t){oe();var n=Se(),r=/^\s*class[\s{/}]/,o=Function.prototype.toString;t.exports=function(e){return!!n(e)&&!r.test(o.call(e))}}}),_e=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/string/#/contains/is-implemented.js"(e,t){oe();var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}}}),Pe=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/string/#/contains/shim.js"(e,t){oe();var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}}}),Le=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/string/#/contains/index.js"(e,t){oe(),t.exports=_e()()?String.prototype.contains:Pe()}}),ke=ne({"../../node_modules/.pnpm/d@1.0.2/node_modules/d/index.js"(e,t){oe();var n=ze(),r=Ce(),o=je(),i=ae(),s=Le(),a=t.exports=function(e,t){var r,a,c,u,l;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],n(e)?(r=s.call(e,"c"),a=s.call(e,"e"),c=s.call(e,"w")):(r=c=!0,a=!1),l={value:t,configurable:r,enumerable:a,writable:c},u?o(i(u),l):l};a.gs=function(e,t,a){var c,u,l,d;return"string"!=typeof e?(l=a,a=t,t=e,e=null):l=arguments[3],n(t)?r(t)?n(a)?r(a)||(l=a,a=void 0):a=void 0:(l=t,t=a=void 0):t=void 0,n(e)?(c=s.call(e,"c"),u=s.call(e,"e")):(c=!0,u=!1),d={get:t,set:a,configurable:c,enumerable:u},l?o(i(l),d):d}}}),Ue=ne({"../../node_modules/.pnpm/event-emitter@0.3.5/node_modules/event-emitter/index.js"(e,t){oe();var n,r,o,i,s,a,c,u=ke(),l=pe(),d=Function.prototype.apply,h=Function.prototype.call,f=Object.create,p=Object.defineProperty,g=Object.defineProperties,y=Object.prototype.hasOwnProperty,M={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var r,i;return l(t),i=this,n.call(this,e,r=function(){o.call(i,e,r),d.call(t,this,arguments)}),r.__eeOnceListener__=t,this},i=function(e){var t,n,r,o,i;if(y.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)d.call(r,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;t<n;++t)i[t-1]=arguments[t];d.call(o,this,i)}},s={on:n=function(e,t){var n;return l(t),y.call(this,"__ee__")?n=this.__ee__:(n=M.value=f(null),p(this,"__ee__",M),M.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:o=function(e,t){var n,r,o,i;if(l(t),!y.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(i=0;o=r[i];++i)o!==t&&o.__eeOnceListener__!==t||(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:i},a={on:u(n),once:u(r),off:u(o),emit:u(i)},c=g({},a),t.exports=e=function(e){return null==e?f(c):g(Object(e),a)},e.methods=s}}),Re=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/array/from/is-implemented.js"(e,t){oe(),t.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}}}),Ye=ne({"../../node_modules/.pnpm/ext@1.7.0/node_modules/ext/global-this/is-implemented.js"(e,t){oe(),t.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}}}),Qe=ne({"../../node_modules/.pnpm/ext@1.7.0/node_modules/ext/global-this/implementation.js"(e,t){oe();var n=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()}}),We=ne({"../../node_modules/.pnpm/ext@1.7.0/node_modules/ext/global-this/index.js"(e,t){oe(),t.exports=Ye()()?globalThis:Qe()}}),Be=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/is-implemented.js"(e,t){oe();var n=We(),r={object:!0,symbol:!0};t.exports=function(){var e,t=n.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof t.iterator]&&(!!r[typeof t.toPrimitive]&&!!r[typeof t.toStringTag])}}}),Ge=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/is-symbol.js"(e,t){oe(),t.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}}}),Ze=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/validate-symbol.js"(e,t){oe();var n=Ge();t.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}}}),Je=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/lib/private/generate-name.js"(e,t){oe();var n=ke(),r=Object.create,o=Object.defineProperty,i=Object.prototype,s=r(null);t.exports=function(e){for(var t,r,a=0;s[e+(a||"")];)++a;return s[e+=a||""]=!0,o(i,t="@@"+e,n.gs(null,(function(e){r||(r=!0,o(this,t,n(e)),r=!1)}))),t}}}),Fe=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/lib/private/setup/standard-symbols.js"(e,t){oe();var n=ke(),r=We().Symbol;t.exports=function(e){return Object.defineProperties(e,{hasInstance:n("",r&&r.hasInstance||e("hasInstance")),isConcatSpreadable:n("",r&&r.isConcatSpreadable||e("isConcatSpreadable")),iterator:n("",r&&r.iterator||e("iterator")),match:n("",r&&r.match||e("match")),replace:n("",r&&r.replace||e("replace")),search:n("",r&&r.search||e("search")),species:n("",r&&r.species||e("species")),split:n("",r&&r.split||e("split")),toPrimitive:n("",r&&r.toPrimitive||e("toPrimitive")),toStringTag:n("",r&&r.toStringTag||e("toStringTag")),unscopables:n("",r&&r.unscopables||e("unscopables"))})}}}),qe=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/lib/private/setup/symbol-registry.js"(e,t){oe();var n=ke(),r=Ze(),o=Object.create(null);t.exports=function(e){return Object.defineProperties(e,{for:n((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:n((function(e){var t;for(t in r(e),o)if(o[t]===e)return t}))})}}}),Ve=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/polyfill.js"(e,t){oe();var n,r,o,i=ke(),s=Ze(),a=We().Symbol,c=Je(),u=Fe(),l=qe(),d=Object.create,h=Object.defineProperties,f=Object.defineProperty;if("function"==typeof a)try{String(a()),o=!0}catch(e){}else a=null;r=function(e){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return n(e)},t.exports=n=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?a(t):(n=d(r.prototype),t=void 0===t?"":String(t),h(n,{__description__:i("",t),__name__:i("",c(t))}))},u(n),l(n),h(r.prototype,{constructor:i(n),toString:i("",(function(){return this.__name__}))}),h(n.prototype,{toString:i((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:i((function(){return s(this)}))}),f(n.prototype,n.toPrimitive,i("",(function(){var e=s(this);return"symbol"==typeof e?e:e.toString()}))),f(n.prototype,n.toStringTag,i("c","Symbol")),f(r.prototype,n.toStringTag,i("c",n.prototype[n.toStringTag])),f(r.prototype,n.toPrimitive,i("c",n.prototype[n.toPrimitive]))}}),Xe=ne({"../../node_modules/.pnpm/es6-symbol@3.1.4/node_modules/es6-symbol/index.js"(e,t){oe(),t.exports=Be()()?We().Symbol:Ve()}}),He=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/function/is-arguments.js"(e,t){oe();var n=Object.prototype.toString,r=n.call(function(){return arguments}());t.exports=function(e){return n.call(e)===r}}}),Ke=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/function/is-function.js"(e,t){oe();var n=Object.prototype.toString,r=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(e){return"function"==typeof e&&r(n.call(e))}}}),$e=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/string/is-string.js"(e,t){oe();var n=Object.prototype.toString,r=n.call("");t.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===r)||!1}}}),et=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/array/from/shim.js"(e,t){oe();var n=Xe().iterator,r=He(),o=Ke(),i=he(),s=pe(),a=ge(),c=se(),u=$e(),l=Array.isArray,d=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},f=Object.defineProperty;t.exports=function(e){var t,p,g,y,M,m,w,I,N,b,v=arguments[1],j=arguments[2];if(e=Object(a(e)),c(v)&&s(v),this&&this!==Array&&o(this))t=this;else{if(!v){if(r(e))return 1!==(M=e.length)?Array.apply(null,e):((y=new Array(1))[0]=e[0],y);if(l(e)){for(y=new Array(M=e.length),p=0;p<M;++p)y[p]=e[p];return y}}y=[]}if(!l(e))if(void 0!==(N=e[n])){for(w=s(N).call(e),t&&(y=new t),I=w.next(),p=0;!I.done;)b=v?d.call(v,j,I.value,p):I.value,t?(h.value=b,f(y,p,h)):y[p]=b,I=w.next(),++p;M=p}else if(u(e)){for(M=e.length,t&&(y=new t),p=0,g=0;p<M;++p)b=e[p],p+1<M&&(m=b.charCodeAt(0))>=55296&&m<=56319&&(b+=e[++p]),b=v?d.call(v,j,b,g):b,t?(h.value=b,f(y,g,h)):y[g]=b,++g;M=g}if(void 0===M)for(M=i(e.length),t&&(y=new t(M)),p=0;p<M;++p)b=v?d.call(v,j,e[p],p):e[p],t?(h.value=b,f(y,p,h)):y[p]=b;return t&&(h.value=null,y.length=M),y}}}),tt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/array/from/index.js"(e,t){oe(),t.exports=Re()()?Array.from:et()}}),nt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/array/to-array.js"(e,t){oe();var n=tt(),r=Array.isArray;t.exports=function(e){return r(e)?e:n(e)}}}),rt=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/lib/resolve-resolve.js"(e,t){oe();var n,r=nt(),o=se(),i=pe(),s=Array.prototype.slice;n=function(e){return this.map((function(t,n){return t?t(e[n]):e[n]})).concat(s.call(e,this.length))},t.exports=function(e){return(e=r(e)).forEach((function(e){o(e)&&i(e)})),n.bind(e)}}}),ot=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/lib/resolve-normalize.js"(e,t){oe();var n=pe();t.exports=function(e){var t;return"function"==typeof e?{set:e,get:e}:(t={get:n(e.get)},void 0!==e.set?(t.set=n(e.set),e.delete&&(t.delete=n(e.delete)),e.clear&&(t.clear=n(e.clear)),t):(t.set=t.get,t))}}}),it=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/lib/configure-map.js"(e,t){oe();var n=De(),r=Te(),o=ke(),i=Ue().methods,s=rt(),a=ot(),c=Function.prototype.apply,u=Function.prototype.call,l=Object.create,d=Object.defineProperties,h=i.on,f=i.emit;t.exports=function(e,t,i){var p,g,y,M,m,w,I,N,b,v,j,A,D,x,T,z=l(null);return g=!1!==t?t:isNaN(e.length)?1:e.length,i.normalizer&&(v=a(i.normalizer),y=v.get,M=v.set,m=v.delete,w=v.clear),null!=i.resolvers&&(T=s(i.resolvers)),x=y?r((function(t){var r,o,i=arguments;if(T&&(i=T(i)),null!==(r=y(i))&&hasOwnProperty.call(z,r))return j&&p.emit("get",r,i,this),z[r];if(o=1===i.length?u.call(e,this,i[0]):c.call(e,this,i),null===r){if(null!==(r=y(i)))throw n("Circular invocation","CIRCULAR_INVOCATION");r=M(i)}else if(hasOwnProperty.call(z,r))throw n("Circular invocation","CIRCULAR_INVOCATION");return z[r]=o,A&&p.emit("set",r,null,o),o}),g):0===t?function(){var t;if(hasOwnProperty.call(z,"data"))return j&&p.emit("get","data",arguments,this),z.data;if(t=arguments.length?c.call(e,this,arguments):u.call(e,this),hasOwnProperty.call(z,"data"))throw n("Circular invocation","CIRCULAR_INVOCATION");return z.data=t,A&&p.emit("set","data",null,t),t}:function(t){var r,o,i=arguments;if(T&&(i=T(arguments)),o=String(i[0]),hasOwnProperty.call(z,o))return j&&p.emit("get",o,i,this),z[o];if(r=1===i.length?u.call(e,this,i[0]):c.call(e,this,i),hasOwnProperty.call(z,o))throw n("Circular invocation","CIRCULAR_INVOCATION");return z[o]=r,A&&p.emit("set",o,null,r),r},p={original:e,memoized:x,profileName:i.profileName,get:function(e){return T&&(e=T(e)),y?y(e):String(e[0])},has:function(e){return hasOwnProperty.call(z,e)},delete:function(e){var t;hasOwnProperty.call(z,e)&&(m&&m(e),t=z[e],delete z[e],D&&p.emit("delete",e,t))},clear:function(){var e=z;w&&w(),z=l(null),p.emit("clear",e)},on:function(e,t){return"get"===e?j=!0:"set"===e?A=!0:"delete"===e&&(D=!0),h.call(this,e,t)},emit:f,updateEnv:function(){e=p.original}},I=y?r((function(e){var t,n=arguments;T&&(n=T(n)),null!==(t=y(n))&&p.delete(t)}),g):0===t?function(){return p.delete("data")}:function(e){return T&&(e=T(arguments)[0]),p.delete(e)},N=r((function(){var e,n=arguments;return 0===t?z.data:(T&&(n=T(n)),e=y?y(n):String(n[0]),z[e])})),b=r((function(){var e,n=arguments;return 0===t?p.has("data"):(T&&(n=T(n)),null!==(e=y?y(n):String(n[0]))&&p.has(e))})),d(x,{__memoized__:o(!0),delete:o(I),clear:o(p.clear),_get:o(N),_has:o(b)}),p}}}),st=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/plain.js"(e,t){oe();var n=pe(),r=Me(),o=me(),i=it(),s=fe();t.exports=function e(t){var a,c,u;if(n(t),(a=Object(arguments[1])).async&&a.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(t,"__memoized__")&&!a.force?t:(c=s(a.length,t.length,a.async&&o.async),u=i(t,c,a),r(o,(function(e,t){a[t]&&e(a[t],u,a)})),e.__profiler__&&e.__profiler__(u),u.updateEnv(),u.memoized)}}}),at=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/normalizers/primitive.js"(e,t){oe(),t.exports=function(e){var t,n,r=e.length;if(!r)return"";for(t=String(e[n=0]);--r;)t+=""+e[++n];return t}}}),ct=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/normalizers/get-primitive-fixed.js"(e,t){oe(),t.exports=function(e){return e?function(t){for(var n=String(t[0]),r=0,o=e;--o;)n+=""+t[++r];return n}:function(){return""}}}}),ut=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/number/is-nan/is-implemented.js"(e,t){oe(),t.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}}}),lt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/number/is-nan/shim.js"(e,t){oe(),t.exports=function(e){return e!=e}}}),dt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/number/is-nan/index.js"(e,t){oe(),t.exports=ut()()?Number.isNaN:lt()}}),ht=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/array/#/e-index-of.js"(e,t){oe();var n=dt(),r=he(),o=ge(),i=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,a=Math.abs,c=Math.floor;t.exports=function(e){var t,u,l,d;if(!n(e))return i.apply(this,arguments);for(u=r(o(this).length),l=arguments[1],t=l=isNaN(l)?0:l>=0?c(l):r(this.length)-c(a(l));t<u;++t)if(s.call(this,t)&&(d=this[t],n(d)))return t;return-1}}}),ft=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/normalizers/get.js"(e,t){oe();var n=ht(),r=Object.create;t.exports=function(){var e=0,t=[],o=r(null);return{get:function(e){var r,o=0,i=t,s=e.length;if(0===s)return i[s]||null;if(i=i[s]){for(;o<s-1;){if(-1===(r=n.call(i[0],e[o])))return null;i=i[1][r],++o}return-1===(r=n.call(i[0],e[o]))?null:i[1][r]||null}return null},set:function(r){var i,s=0,a=t,c=r.length;if(0===c)a[c]=++e;else{for(a[c]||(a[c]=[[],[]]),a=a[c];s<c-1;)-1===(i=n.call(a[0],r[s]))&&(i=a[0].push(r[s])-1,a[1].push([[],[]])),a=a[1][i],++s;-1===(i=n.call(a[0],r[s]))&&(i=a[0].push(r[s])-1),a[1][i]=++e}return o[e]=r,e},delete:function(e){var r,i=0,s=t,a=o[e],c=a.length,u=[];if(0===c)delete s[c];else if(s=s[c]){for(;i<c-1;){if(-1===(r=n.call(s[0],a[i])))return;u.push(s,r),s=s[1][r],++i}if(-1===(r=n.call(s[0],a[i])))return;for(e=s[1][r],s[0].splice(r,1),s[1].splice(r,1);!s[0].length&&u.length;)r=u.pop(),(s=u.pop())[0].splice(r,1),s[1].splice(r,1)}delete o[e]},clear:function(){t=[],o=r(null)}}}}}),pt=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/normalizers/get-1.js"(e,t){oe();var n=ht();t.exports=function(){var e=0,t=[],r=[];return{get:function(e){var o=n.call(t,e[0]);return-1===o?null:r[o]},set:function(n){return t.push(n[0]),r.push(++e),e},delete:function(e){var o=n.call(r,e);-1!==o&&(t.splice(o,1),r.splice(o,1))},clear:function(){t=[],r=[]}}}}}),gt=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/normalizers/get-fixed.js"(e,t){oe();var n=ht(),r=Object.create;t.exports=function(e){var t=0,o=[[],[]],i=r(null);return{get:function(t){for(var r,i=0,s=o;i<e-1;){if(-1===(r=n.call(s[0],t[i])))return null;s=s[1][r],++i}return-1===(r=n.call(s[0],t[i]))?null:s[1][r]||null},set:function(r){for(var s,a=0,c=o;a<e-1;)-1===(s=n.call(c[0],r[a]))&&(s=c[0].push(r[a])-1,c[1].push([[],[]])),c=c[1][s],++a;return-1===(s=n.call(c[0],r[a]))&&(s=c[0].push(r[a])-1),c[1][s]=++t,i[t]=r,t},delete:function(t){for(var r,s=0,a=o,c=[],u=i[t];s<e-1;){if(-1===(r=n.call(a[0],u[s])))return;c.push(a,r),a=a[1][r],++s}if(-1!==(r=n.call(a[0],u[s]))){for(t=a[1][r],a[0].splice(r,1),a[1].splice(r,1);!a[0].length&&c.length;)r=c.pop(),(a=c.pop())[0].splice(r,1),a[1].splice(r,1);delete i[t]}},clear:function(){o=[[],[]],i=r(null)}}}}}),yt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/map.js"(e,t){oe();var n=pe(),r=Me(),o=Function.prototype.call;t.exports=function(e,t){var i={},s=arguments[2];return n(t),r(e,(function(e,n,r,a){i[n]=o.call(t,s,e,n,r,a)})),i}}}),Mt=ne({"../../node_modules/.pnpm/next-tick@1.1.0/node_modules/next-tick/index.js"(e,t){oe();var n=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e},r=function(e){var t,r,o=document.createTextNode(""),i=0;return new e((function(){var e;if(t)r&&(t=r.concat(t));else{if(!r)return;t=r}if(r=t,t=null,"function"==typeof r)return e=r,r=null,void e();for(o.data=i=++i%2;r;)e=r.shift(),r.length||(r=null),e()})).observe(o,{characterData:!0}),function(e){n(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,o.data=i=++i%2)}};t.exports=function(){if("object"==typeof process&&process&&"function"==typeof process.nextTick)return process.nextTick;if("function"==typeof queueMicrotask)return function(e){queueMicrotask(n(e))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return r(MutationObserver);if("function"==typeof WebKitMutationObserver)return r(WebKitMutationObserver)}return"function"==typeof setImmediate?function(e){setImmediate(n(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(n(e),0)}:null}()}}),mt=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/ext/async.js"(){oe();var e=tt(),t=yt(),n=xe(),r=Te(),o=Mt(),i=Array.prototype.slice,s=Function.prototype.apply,a=Object.create;me().async=function(c,u){var l,d,h,f=a(null),p=a(null),g=u.memoized,y=u.original;u.memoized=r((function(e){var t=arguments,n=t[t.length-1];return"function"==typeof n&&(l=n,t=i.call(t,0,-1)),g.apply(d=this,h=t)}),g);try{n(u.memoized,g)}catch(e){}u.on("get",(function(e){var t,n,r;if(l){if(f[e])return"function"==typeof f[e]?f[e]=[f[e],l]:f[e].push(l),void(l=null);t=l,n=d,r=h,l=d=h=null,o((function(){var o;hasOwnProperty.call(p,e)?(o=p[e],u.emit("getasync",e,r,n),s.call(t,o.context,o.args)):(l=t,d=n,h=r,g.apply(n,r))}))}})),u.original=function(){var t,n,r,i;return l?(t=e(arguments),n=function t(n){var r,a,c=t.id;if(null!=c){if(delete t.id,r=f[c],delete f[c],r)return a=e(arguments),u.has(c)&&(n?u.delete(c):(p[c]={context:this,args:a},u.emit("setasync",c,"function"==typeof r?1:r.length))),"function"==typeof r?i=s.call(r,this,a):r.forEach((function(e){i=s.call(e,this,a)}),this),i}else o(s.bind(t,this,arguments))},r=l,l=d=h=null,t.push(n),i=s.call(y,this,t),n.cb=r,l=n,i):s.call(y,this,arguments)},u.on("set",(function(e){l?(f[e]?"function"==typeof f[e]?f[e]=[f[e],l.cb]:f[e].push(l.cb):f[e]=l.cb,delete l.cb,l.id=e,l=null):u.delete(e)})),u.on("delete",(function(e){var t;hasOwnProperty.call(f,e)||p[e]&&(t=p[e],delete p[e],u.emit("deleteasync",e,i.call(t.args,1)))})),u.on("clear",(function(){var e=p;p=a(null),u.emit("clearasync",t(e,(function(e){return i.call(e.args,1)})))}))}}}),wt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/primitive-set.js"(e,t){oe();var n=Array.prototype.forEach,r=Object.create;t.exports=function(e){var t=r(null);return n.call(arguments,(function(e){t[e]=!0})),t}}}),It=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/is-callable.js"(e,t){oe(),t.exports=function(e){return"function"==typeof e}}}),Nt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/validate-stringifiable.js"(e,t){oe();var n=It();t.exports=function(e){try{return e&&n(e.toString)?e.toString():String(e)}catch(e){throw new TypeError("Passed argument cannot be stringifed")}}}}),bt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/object/validate-stringifiable-value.js"(e,t){oe();var n=ge(),r=Nt();t.exports=function(e){return r(n(e))}}}),vt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/safe-to-string.js"(e,t){oe();var n=It();t.exports=function(e){try{return e&&n(e.toString)?e.toString():String(e)}catch(e){return"<Non-coercible to string value>"}}}}),jt=ne({"../../node_modules/.pnpm/es5-ext@0.10.64/node_modules/es5-ext/to-short-string-representation.js"(e,t){oe();var n=vt(),r=/[\n\r\u2028\u2029]/g;t.exports=function(e){var t=n(e);return t.length>100&&(t=t.slice(0,99)+"…"),t=t.replace(r,(function(e){return JSON.stringify(e).slice(1,-1)}))}}}),At=ne({"../../node_modules/.pnpm/is-promise@2.2.2/node_modules/is-promise/index.js"(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}oe(),t.exports=n,t.exports.default=n}}),Dt=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/ext/promise.js"(){oe();var e=yt(),t=wt(),n=bt(),r=jt(),o=At(),i=Mt(),s=Object.create,a=t("then","then:finally","done","done:finally");me().promise=function(t,c){var u=s(null),l=s(null),d=s(null);if(!0===t)t=null;else if(t=n(t),!a[t])throw new TypeError("'"+r(t)+"' is not valid promise mode");c.on("set",(function(e,n,r){var s=!1;if(!o(r))return l[e]=r,void c.emit("setasync",e,1);u[e]=1,d[e]=r;var a=function(t){var n=u[e];if(s)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");n&&(delete u[e],l[e]=t,c.emit("setasync",e,n))},h=function(){s=!0,u[e]&&(delete u[e],delete d[e],c.delete(e))},f=t;if(f||(f="then"),"then"===f){var p=function(){i(h)};"function"==typeof(r=r.then((function(e){i(a.bind(this,e))}),p)).finally&&r.finally(p)}else if("done"===f){if("function"!=typeof r.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");r.done(a,h)}else if("done:finally"===f){if("function"!=typeof r.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!=typeof r.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");r.done(a),r.finally(h)}})),c.on("get",(function(e,t,n){var r;if(u[e])++u[e];else{r=d[e];var s=function(){c.emit("getasync",e,t,n)};o(r)?"function"==typeof r.done?r.done(s):r.then((function(){i(s)})):s()}})),c.on("delete",(function(e){if(delete d[e],u[e])delete u[e];else if(hasOwnProperty.call(l,e)){var t=l[e];delete l[e],c.emit("deleteasync",e,[t])}})),c.on("clear",(function(){var t=l;l=s(null),u=s(null),d=s(null),c.emit("clearasync",e(t,(function(e){return[e]})))}))}}}),xt=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/ext/dispose.js"(){oe();var e=pe(),t=Me(),n=me(),r=Function.prototype.apply;n.dispose=function(o,i,s){var a;if(e(o),s.async&&n.async||s.promise&&n.promise)return i.on("deleteasync",a=function(e,t){r.call(o,null,t)}),void i.on("clearasync",(function(e){t(e,(function(e,t){a(t,e)}))}));i.on("delete",a=function(e,t){o(t)}),i.on("clear",(function(e){t(e,(function(e,t){a(t,e)}))}))}}}),Tt=ne({"../../node_modules/.pnpm/timers-ext@0.1.8/node_modules/timers-ext/max-timeout.js"(e,t){oe(),t.exports=2147483647}}),zt=ne({"../../node_modules/.pnpm/timers-ext@0.1.8/node_modules/timers-ext/valid-timeout.js"(e,t){oe();var n=he(),r=Tt();t.exports=function(e){if((e=n(e))>r)throw new TypeError(e+" exceeds maximum possible timeout");return e}}}),Et=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/ext/max-age.js"(){oe();var e=tt(),t=Me(),n=Mt(),r=At(),o=zt(),i=me(),s=Function.prototype,a=Math.max,c=Math.min,u=Object.create;i.maxAge=function(l,d,h){var f,p,g,y;(l=o(l))&&(f=u(null),p=h.async&&i.async||h.promise&&i.promise?"async":"",d.on("set"+p,(function(e){f[e]=setTimeout((function(){d.delete(e)}),l),"function"==typeof f[e].unref&&f[e].unref(),y&&(y[e]&&"nextTick"!==y[e]&&clearTimeout(y[e]),y[e]=setTimeout((function(){delete y[e]}),g),"function"==typeof y[e].unref&&y[e].unref())})),d.on("delete"+p,(function(e){clearTimeout(f[e]),delete f[e],y&&("nextTick"!==y[e]&&clearTimeout(y[e]),delete y[e])})),h.preFetch&&(g=!0===h.preFetch||isNaN(h.preFetch)?.333:a(c(Number(h.preFetch),1),0))&&(y={},g=(1-g)*l,d.on("get"+p,(function(t,o,i){y[t]||(y[t]="nextTick",n((function(){var n;"nextTick"===y[t]&&(delete y[t],d.delete(t),h.async&&(o=e(o)).push(s),n=d.memoized.apply(i,o),h.promise&&r(n)&&("function"==typeof n.done?n.done(s,s):n.then(s,s)))})))}))),d.on("clear"+p,(function(){t(f,(function(e){clearTimeout(e)})),f={},y&&(t(y,(function(e){"nextTick"!==e&&clearTimeout(e)})),y={})})))}}}),Ot=ne({"../../node_modules/.pnpm/lru-queue@0.1.0/node_modules/lru-queue/index.js"(e,t){oe();var n=he(),r=Object.create,o=Object.prototype.hasOwnProperty;t.exports=function(e){var t,i=0,s=1,a=r(null),c=r(null),u=0;return e=n(e),{hit:function(n){var r=c[n],l=++u;if(a[l]=n,c[n]=l,!r){if(++i<=e)return;return n=a[s],t(n),n}if(delete a[r],s===r)for(;!o.call(a,++s);)continue},delete:t=function(e){var t=c[e];if(t&&(delete a[t],delete c[e],--i,s===t)){if(!i)return u=0,void(s=1);for(;!o.call(a,++s);)continue}},clear:function(){i=0,s=1,a=r(null),c=r(null),u=0}}}}}),St=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/ext/max.js"(){oe();var e=he(),t=Ot(),n=me();n.max=function(r,o,i){var s,a,c;(r=e(r))&&(a=t(r),s=i.async&&n.async||i.promise&&n.promise?"async":"",o.on("set"+s,c=function(e){void 0!==(e=a.hit(e))&&o.delete(e)}),o.on("get"+s,c),o.on("delete"+s,a.delete),o.on("clear"+s,a.clear))}}}),Ct=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/ext/ref-counter.js"(){oe();var e=ke(),t=me(),n=Object.create,r=Object.defineProperties;t.refCounter=function(o,i,s){var a,c;a=n(null),c=s.async&&t.async||s.promise&&t.promise?"async":"",i.on("set"+c,(function(e,t){a[e]=t||1})),i.on("get"+c,(function(e){++a[e]})),i.on("delete"+c,(function(e){delete a[e]})),i.on("clear"+c,(function(){a={}})),r(i.memoized,{deleteRef:e((function(){var e=i.get(arguments);return null===e?null:a[e]?! --a[e]&&(i.delete(e),!0):null})),getRefCount:e((function(){var e=i.get(arguments);return null===e?0:a[e]?a[e]:0}))})}}}),_t=ne({"../../node_modules/.pnpm/memoizee@0.4.15/node_modules/memoizee/index.js"(e,t){oe();var n=ae(),r=fe(),o=st();t.exports=function(e){var t,i=n(arguments[1]);return i.normalizer||0!==(t=i.length=r(i.length,e.length,i.async))&&(i.primitive?!1===t?i.normalizer=at():t>1&&(i.normalizer=ct()(t)):i.normalizer=!1===t?ft()():1===t?pt()():gt()(t)),i.async&&mt(),i.promise&&Dt(),i.dispose&&xt(),i.maxAge&&Et(),i.max&&St(),i.refCounter&&Ct(),o(e,i)}}}),Pt=ne({"../../node_modules/.pnpm/tweetnacl@1.0.3/node_modules/tweetnacl/nacl-fast.js"(e,t){oe(),function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=t(),s=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function p(e,t,n,r,o){var i,s=0;for(i=0;i<o;i++)s|=e[t+i]^n[r+i];return(1&s-1>>>8)-1}function g(e,t,n,r){return p(e,t,n,r,16)}function y(e,t,n,r){return p(e,t,n,r,32)}function M(e,t,n,r){!function(e,t,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,M=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,I=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,N=i,b=s,v=a,j=c,A=u,D=l,x=d,T=h,z=f,E=p,O=g,S=y,C=M,_=m,P=w,L=I,k=0;k<20;k+=2)N^=(o=(C^=(o=(z^=(o=(A^=(o=N+C|0)<<7|o>>>25)+N|0)<<9|o>>>23)+A|0)<<13|o>>>19)+z|0)<<18|o>>>14,D^=(o=(b^=(o=(_^=(o=(E^=(o=D+b|0)<<7|o>>>25)+D|0)<<9|o>>>23)+E|0)<<13|o>>>19)+_|0)<<18|o>>>14,O^=(o=(x^=(o=(v^=(o=(P^=(o=O+x|0)<<7|o>>>25)+O|0)<<9|o>>>23)+P|0)<<13|o>>>19)+v|0)<<18|o>>>14,L^=(o=(S^=(o=(T^=(o=(j^=(o=L+S|0)<<7|o>>>25)+L|0)<<9|o>>>23)+j|0)<<13|o>>>19)+T|0)<<18|o>>>14,N^=(o=(j^=(o=(v^=(o=(b^=(o=N+j|0)<<7|o>>>25)+N|0)<<9|o>>>23)+b|0)<<13|o>>>19)+v|0)<<18|o>>>14,D^=(o=(A^=(o=(T^=(o=(x^=(o=D+A|0)<<7|o>>>25)+D|0)<<9|o>>>23)+x|0)<<13|o>>>19)+T|0)<<18|o>>>14,O^=(o=(E^=(o=(z^=(o=(S^=(o=O+E|0)<<7|o>>>25)+O|0)<<9|o>>>23)+S|0)<<13|o>>>19)+z|0)<<18|o>>>14,L^=(o=(P^=(o=(_^=(o=(C^=(o=L+P|0)<<7|o>>>25)+L|0)<<9|o>>>23)+C|0)<<13|o>>>19)+_|0)<<18|o>>>14;N=N+i|0,b=b+s|0,v=v+a|0,j=j+c|0,A=A+u|0,D=D+l|0,x=x+d|0,T=T+h|0,z=z+f|0,E=E+p|0,O=O+g|0,S=S+y|0,C=C+M|0,_=_+m|0,P=P+w|0,L=L+I|0,e[0]=N>>>0&255,e[1]=N>>>8&255,e[2]=N>>>16&255,e[3]=N>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=j>>>0&255,e[13]=j>>>8&255,e[14]=j>>>16&255,e[15]=j>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=D>>>0&255,e[21]=D>>>8&255,e[22]=D>>>16&255,e[23]=D>>>24&255,e[24]=x>>>0&255,e[25]=x>>>8&255,e[26]=x>>>16&255,e[27]=x>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=z>>>0&255,e[33]=z>>>8&255,e[34]=z>>>16&255,e[35]=z>>>24&255,e[36]=E>>>0&255,e[37]=E>>>8&255,e[38]=E>>>16&255,e[39]=E>>>24&255,e[40]=O>>>0&255,e[41]=O>>>8&255,e[42]=O>>>16&255,e[43]=O>>>24&255,e[44]=S>>>0&255,e[45]=S>>>8&255,e[46]=S>>>16&255,e[47]=S>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=_>>>0&255,e[53]=_>>>8&255,e[54]=_>>>16&255,e[55]=_>>>24&255,e[56]=P>>>0&255,e[57]=P>>>8&255,e[58]=P>>>16&255,e[59]=P>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,n,r)}function m(e,t,n,r){!function(e,t,n,r){for(var o,i=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,y=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,M=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,w=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,I=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,N=0;N<20;N+=2)i^=(o=(M^=(o=(f^=(o=(u^=(o=i+M|0)<<7|o>>>25)+i|0)<<9|o>>>23)+u|0)<<13|o>>>19)+f|0)<<18|o>>>14,l^=(o=(s^=(o=(m^=(o=(p^=(o=l+s|0)<<7|o>>>25)+l|0)<<9|o>>>23)+p|0)<<13|o>>>19)+m|0)<<18|o>>>14,g^=(o=(d^=(o=(a^=(o=(w^=(o=g+d|0)<<7|o>>>25)+g|0)<<9|o>>>23)+w|0)<<13|o>>>19)+a|0)<<18|o>>>14,I^=(o=(y^=(o=(h^=(o=(c^=(o=I+y|0)<<7|o>>>25)+I|0)<<9|o>>>23)+c|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(c^=(o=(a^=(o=(s^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+a|0)<<18|o>>>14,l^=(o=(u^=(o=(h^=(o=(d^=(o=l+u|0)<<7|o>>>25)+l|0)<<9|o>>>23)+d|0)<<13|o>>>19)+h|0)<<18|o>>>14,g^=(o=(p^=(o=(f^=(o=(y^=(o=g+p|0)<<7|o>>>25)+g|0)<<9|o>>>23)+y|0)<<13|o>>>19)+f|0)<<18|o>>>14,I^=(o=(w^=(o=(m^=(o=(M^=(o=I+w|0)<<7|o>>>25)+I|0)<<9|o>>>23)+M|0)<<13|o>>>19)+m|0)<<18|o>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=I>>>0&255,e[13]=I>>>8&255,e[14]=I>>>16&255,e[15]=I>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function I(e,t,n,r,o,i,s){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;o>=64;){for(M(l,u,s,w),c=0;c<64;c++)e[t+c]=n[r+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;o-=64,t+=64,r+=64}if(o>0)for(M(l,u,s,w),c=0;c<o;c++)e[t+c]=n[r+c]^l[c];return 0}function N(e,t,n,r,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(M(c,a,o,w),s=0;s<64;s++)e[t+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(M(c,a,o,w),s=0;s<n;s++)e[t+s]=c[s];return 0}function b(e,t,n,r,o){var i=new Uint8Array(32);m(i,r,o,w);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return N(e,t,n,s,i)}function v(e,t,n,r,o,i,s){var a=new Uint8Array(32);m(a,i,s,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return I(e,t,n,r,o,c,a)}var j=function(e){var t,n,r,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|o<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,n,r,o,i){var s=new j(i);return s.update(n,r,o),s.finish(e,t),0}function D(e,t,n,r,o,i){var s=new Uint8Array(16);return A(s,0,n,r,o,i),g(e,t,s,0)}function x(e,t,n,r,o){var i;if(n<32)return-1;for(v(e,0,t,0,n,r,o),A(e,16,e,32,n-32,e),i=0;i<16;i++)e[i]=0;return 0}function T(e,t,n,r,o){var i,s=new Uint8Array(32);if(n<32)return-1;if(b(s,0,32,r,o),0!==D(t,16,t,32,n-32,s))return-1;for(v(e,0,t,0,n,r,o),i=0;i<32;i++)e[i]=0;return 0}function z(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function E(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function O(e,t,n){for(var r,o=~(n-1),i=0;i<16;i++)r=o&(e[i]^t[i]),e[i]^=r,t[i]^=r}function S(e,n){var r,o,i,s=t(),a=t();for(r=0;r<16;r++)a[r]=n[r];for(E(a),E(a),E(a),o=0;o<2;o++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,O(a,s,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function C(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return S(n,e),S(r,t),y(n,0,r,0)}function _(e){var t=new Uint8Array(32);return S(t,e),1&t[0]}function P(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function L(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function k(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function U(e,t,n){var r,o,i=0,s=0,a=0,c=0,u=0,l=0,d=0,h=0,f=0,p=0,g=0,y=0,M=0,m=0,w=0,I=0,N=0,b=0,v=0,j=0,A=0,D=0,x=0,T=0,z=0,E=0,O=0,S=0,C=0,_=0,P=0,L=n[0],k=n[1],U=n[2],R=n[3],Y=n[4],Q=n[5],W=n[6],B=n[7],G=n[8],Z=n[9],J=n[10],F=n[11],q=n[12],V=n[13],X=n[14],H=n[15];i+=(r=t[0])*L,s+=r*k,a+=r*U,c+=r*R,u+=r*Y,l+=r*Q,d+=r*W,h+=r*B,f+=r*G,p+=r*Z,g+=r*J,y+=r*F,M+=r*q,m+=r*V,w+=r*X,I+=r*H,s+=(r=t[1])*L,a+=r*k,c+=r*U,u+=r*R,l+=r*Y,d+=r*Q,h+=r*W,f+=r*B,p+=r*G,g+=r*Z,y+=r*J,M+=r*F,m+=r*q,w+=r*V,I+=r*X,N+=r*H,a+=(r=t[2])*L,c+=r*k,u+=r*U,l+=r*R,d+=r*Y,h+=r*Q,f+=r*W,p+=r*B,g+=r*G,y+=r*Z,M+=r*J,m+=r*F,w+=r*q,I+=r*V,N+=r*X,b+=r*H,c+=(r=t[3])*L,u+=r*k,l+=r*U,d+=r*R,h+=r*Y,f+=r*Q,p+=r*W,g+=r*B,y+=r*G,M+=r*Z,m+=r*J,w+=r*F,I+=r*q,N+=r*V,b+=r*X,v+=r*H,u+=(r=t[4])*L,l+=r*k,d+=r*U,h+=r*R,f+=r*Y,p+=r*Q,g+=r*W,y+=r*B,M+=r*G,m+=r*Z,w+=r*J,I+=r*F,N+=r*q,b+=r*V,v+=r*X,j+=r*H,l+=(r=t[5])*L,d+=r*k,h+=r*U,f+=r*R,p+=r*Y,g+=r*Q,y+=r*W,M+=r*B,m+=r*G,w+=r*Z,I+=r*J,N+=r*F,b+=r*q,v+=r*V,j+=r*X,A+=r*H,d+=(r=t[6])*L,h+=r*k,f+=r*U,p+=r*R,g+=r*Y,y+=r*Q,M+=r*W,m+=r*B,w+=r*G,I+=r*Z,N+=r*J,b+=r*F,v+=r*q,j+=r*V,A+=r*X,D+=r*H,h+=(r=t[7])*L,f+=r*k,p+=r*U,g+=r*R,y+=r*Y,M+=r*Q,m+=r*W,w+=r*B,I+=r*G,N+=r*Z,b+=r*J,v+=r*F,j+=r*q,A+=r*V,D+=r*X,x+=r*H,f+=(r=t[8])*L,p+=r*k,g+=r*U,y+=r*R,M+=r*Y,m+=r*Q,w+=r*W,I+=r*B,N+=r*G,b+=r*Z,v+=r*J,j+=r*F,A+=r*q,D+=r*V,x+=r*X,T+=r*H,p+=(r=t[9])*L,g+=r*k,y+=r*U,M+=r*R,m+=r*Y,w+=r*Q,I+=r*W,N+=r*B,b+=r*G,v+=r*Z,j+=r*J,A+=r*F,D+=r*q,x+=r*V,T+=r*X,z+=r*H,g+=(r=t[10])*L,y+=r*k,M+=r*U,m+=r*R,w+=r*Y,I+=r*Q,N+=r*W,b+=r*B,v+=r*G,j+=r*Z,A+=r*J,D+=r*F,x+=r*q,T+=r*V,z+=r*X,E+=r*H,y+=(r=t[11])*L,M+=r*k,m+=r*U,w+=r*R,I+=r*Y,N+=r*Q,b+=r*W,v+=r*B,j+=r*G,A+=r*Z,D+=r*J,x+=r*F,T+=r*q,z+=r*V,E+=r*X,O+=r*H,M+=(r=t[12])*L,m+=r*k,w+=r*U,I+=r*R,N+=r*Y,b+=r*Q,v+=r*W,j+=r*B,A+=r*G,D+=r*Z,x+=r*J,T+=r*F,z+=r*q,E+=r*V,O+=r*X,S+=r*H,m+=(r=t[13])*L,w+=r*k,I+=r*U,N+=r*R,b+=r*Y,v+=r*Q,j+=r*W,A+=r*B,D+=r*G,x+=r*Z,T+=r*J,z+=r*F,E+=r*q,O+=r*V,S+=r*X,C+=r*H,w+=(r=t[14])*L,I+=r*k,N+=r*U,b+=r*R,v+=r*Y,j+=r*Q,A+=r*W,D+=r*B,x+=r*G,T+=r*Z,z+=r*J,E+=r*F,O+=r*q,S+=r*V,C+=r*X,_+=r*H,I+=(r=t[15])*L,s+=38*(b+=r*U),a+=38*(v+=r*R),c+=38*(j+=r*Y),u+=38*(A+=r*Q),l+=38*(D+=r*W),d+=38*(x+=r*B),h+=38*(T+=r*G),f+=38*(z+=r*Z),p+=38*(E+=r*J),g+=38*(O+=r*F),y+=38*(S+=r*q),M+=38*(C+=r*V),m+=38*(_+=r*X),w+=38*(P+=r*H),i=(r=(i+=38*(N+=r*k))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),M=(r=M+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),I=(r=I+o+65535)-65536*(o=Math.floor(r/65536)),i=(r=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(r/65536)),s=(r=s+o+65535)-65536*(o=Math.floor(r/65536)),a=(r=a+o+65535)-65536*(o=Math.floor(r/65536)),c=(r=c+o+65535)-65536*(o=Math.floor(r/65536)),u=(r=u+o+65535)-65536*(o=Math.floor(r/65536)),l=(r=l+o+65535)-65536*(o=Math.floor(r/65536)),d=(r=d+o+65535)-65536*(o=Math.floor(r/65536)),h=(r=h+o+65535)-65536*(o=Math.floor(r/65536)),f=(r=f+o+65535)-65536*(o=Math.floor(r/65536)),p=(r=p+o+65535)-65536*(o=Math.floor(r/65536)),g=(r=g+o+65535)-65536*(o=Math.floor(r/65536)),y=(r=y+o+65535)-65536*(o=Math.floor(r/65536)),M=(r=M+o+65535)-65536*(o=Math.floor(r/65536)),m=(r=m+o+65535)-65536*(o=Math.floor(r/65536)),w=(r=w+o+65535)-65536*(o=Math.floor(r/65536)),I=(r=I+o+65535)-65536*(o=Math.floor(r/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=M,e[13]=m,e[14]=w,e[15]=I}function R(e,t){U(e,t,t)}function Y(e,n){var r,o=t();for(r=0;r<16;r++)o[r]=n[r];for(r=253;r>=0;r--)R(o,o),2!==r&&4!==r&&U(o,o,n);for(r=0;r<16;r++)e[r]=o[r]}function Q(e,n){var r,o=t();for(r=0;r<16;r++)o[r]=n[r];for(r=250;r>=0;r--)R(o,o),1!==r&&U(o,o,n);for(r=0;r<16;r++)e[r]=o[r]}function W(e,n,r){var o,i,s=new Uint8Array(32),c=new Float64Array(80),u=t(),l=t(),d=t(),h=t(),f=t(),p=t();for(i=0;i<31;i++)s[i]=n[i];for(s[31]=127&n[31]|64,s[0]&=248,P(c,r),i=0;i<16;i++)l[i]=c[i],h[i]=u[i]=d[i]=0;for(u[0]=h[0]=1,i=254;i>=0;--i)O(u,l,o=s[i>>>3]>>>(7&i)&1),O(d,h,o),L(f,u,d),k(u,u,d),L(d,l,h),k(l,l,h),R(h,f),R(p,u),U(u,d,u),U(d,l,f),L(f,u,d),k(u,u,d),R(l,u),k(d,h,p),U(u,d,a),L(u,u,h),U(d,d,u),U(u,h,p),U(h,l,c),R(l,f),O(u,l,o),O(d,h,o);for(i=0;i<16;i++)c[i+16]=u[i],c[i+32]=d[i],c[i+48]=l[i],c[i+64]=h[i];var g=c.subarray(32),y=c.subarray(16);return Y(g,g),U(y,y,g),S(e,y),0}function B(e,t){return W(e,t,o)}function G(e,t){return n(t,32),B(e,t)}function Z(e,t,n){var o=new Uint8Array(32);return W(o,n,t),m(e,r,o,w)}j.prototype.blocks=function(e,t,n){for(var r,o,i,s,a,c,u,l,d,h,f,p,g,y,M,m,w,I,N,b=this.fin?0:2048,v=this.h[0],j=this.h[1],A=this.h[2],D=this.h[3],x=this.h[4],T=this.h[5],z=this.h[6],E=this.h[7],O=this.h[8],S=this.h[9],C=this.r[0],_=this.r[1],P=this.r[2],L=this.r[3],k=this.r[4],U=this.r[5],R=this.r[6],Y=this.r[7],Q=this.r[8],W=this.r[9];n>=16;)h=d=0,h+=(v+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*C,h+=(j+=8191&(r>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*W),h+=(A+=8191&(o>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*Q),h+=(D+=8191&(i>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*Y),d=(h+=(x+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*R))>>>13,h&=8191,h+=(T+=a>>>1&8191)*(5*U),h+=(z+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*k),h+=(E+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*L),h+=(O+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*P),f=d+=(h+=(S+=l>>>5|b)*(5*_))>>>13,f+=v*_,f+=j*C,f+=A*(5*W),f+=D*(5*Q),d=(f+=x*(5*Y))>>>13,f&=8191,f+=T*(5*R),f+=z*(5*U),f+=E*(5*k),f+=O*(5*L),d+=(f+=S*(5*P))>>>13,f&=8191,p=d,p+=v*P,p+=j*_,p+=A*C,p+=D*(5*W),d=(p+=x*(5*Q))>>>13,p&=8191,p+=T*(5*Y),p+=z*(5*R),p+=E*(5*U),p+=O*(5*k),g=d+=(p+=S*(5*L))>>>13,g+=v*L,g+=j*P,g+=A*_,g+=D*C,d=(g+=x*(5*W))>>>13,g&=8191,g+=T*(5*Q),g+=z*(5*Y),g+=E*(5*R),g+=O*(5*U),y=d+=(g+=S*(5*k))>>>13,y+=v*k,y+=j*L,y+=A*P,y+=D*_,d=(y+=x*C)>>>13,y&=8191,y+=T*(5*W),y+=z*(5*Q),y+=E*(5*Y),y+=O*(5*R),M=d+=(y+=S*(5*U))>>>13,M+=v*U,M+=j*k,M+=A*L,M+=D*P,d=(M+=x*_)>>>13,M&=8191,M+=T*C,M+=z*(5*W),M+=E*(5*Q),M+=O*(5*Y),m=d+=(M+=S*(5*R))>>>13,m+=v*R,m+=j*U,m+=A*k,m+=D*L,d=(m+=x*P)>>>13,m&=8191,m+=T*_,m+=z*C,m+=E*(5*W),m+=O*(5*Q),w=d+=(m+=S*(5*Y))>>>13,w+=v*Y,w+=j*R,w+=A*U,w+=D*k,d=(w+=x*L)>>>13,w&=8191,w+=T*P,w+=z*_,w+=E*C,w+=O*(5*W),I=d+=(w+=S*(5*Q))>>>13,I+=v*Q,I+=j*Y,I+=A*R,I+=D*U,d=(I+=x*k)>>>13,I&=8191,I+=T*L,I+=z*P,I+=E*_,I+=O*C,N=d+=(I+=S*(5*W))>>>13,N+=v*W,N+=j*Q,N+=A*Y,N+=D*R,d=(N+=x*U)>>>13,N&=8191,N+=T*k,N+=z*L,N+=E*P,N+=O*_,v=h=8191&(d=(d=((d+=(N+=S*C)>>>13)<<2)+d|0)+(h&=8191)|0),j=f+=d>>>=13,A=p&=8191,D=g&=8191,x=y&=8191,T=M&=8191,z=m&=8191,E=w&=8191,O=I&=8191,S=N&=8191,t+=16,n-=16;this.h[0]=v,this.h[1]=j,this.h[2]=A,this.h[3]=D,this.h[4]=x,this.h[5]=T,this.h[6]=z,this.h[7]=E,this.h[8]=O,this.h[9]=S},j.prototype.finish=function(e,t){var n,r,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+n,n=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,r=(1^n)-1,i=0;i<10;i++)s[i]&=r;for(r=~r,i=0;i<10;i++)this.h[i]=this.h[i]&r|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},j.prototype.update=function(e,t,n){var r,o;if(this.leftover){for((o=16-this.leftover)>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(e,t,o),t+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var J=x,F=T;var q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,n,r){for(var o,i,s,a,c,u,l,d,h,f,p,g,y,M,m,w,I,N,b,v,j,A,D,x,T,z,E=new Int32Array(16),O=new Int32Array(16),S=e[0],C=e[1],_=e[2],P=e[3],L=e[4],k=e[5],U=e[6],R=e[7],Y=t[0],Q=t[1],W=t[2],B=t[3],G=t[4],Z=t[5],J=t[6],F=t[7],V=0;r>=128;){for(b=0;b<16;b++)v=8*b+V,E[b]=n[v+0]<<24|n[v+1]<<16|n[v+2]<<8|n[v+3],O[b]=n[v+4]<<24|n[v+5]<<16|n[v+6]<<8|n[v+7];for(b=0;b<80;b++)if(o=S,i=C,s=_,a=P,c=L,u=k,l=U,R,h=Y,f=Q,p=W,g=B,y=G,M=Z,m=J,F,D=65535&(A=F),x=A>>>16,T=65535&(j=R),z=j>>>16,D+=65535&(A=(G>>>14|L<<18)^(G>>>18|L<<14)^(L>>>9|G<<23)),x+=A>>>16,T+=65535&(j=(L>>>14|G<<18)^(L>>>18|G<<14)^(G>>>9|L<<23)),z+=j>>>16,D+=65535&(A=G&Z^~G&J),x+=A>>>16,T+=65535&(j=L&k^~L&U),z+=j>>>16,j=q[2*b],D+=65535&(A=q[2*b+1]),x+=A>>>16,T+=65535&j,z+=j>>>16,j=E[b%16],x+=(A=O[b%16])>>>16,T+=65535&j,z+=j>>>16,T+=(x+=(D+=65535&A)>>>16)>>>16,D=65535&(A=N=65535&D|x<<16),x=A>>>16,T=65535&(j=I=65535&T|(z+=T>>>16)<<16),z=j>>>16,D+=65535&(A=(Y>>>28|S<<4)^(S>>>2|Y<<30)^(S>>>7|Y<<25)),x+=A>>>16,T+=65535&(j=(S>>>28|Y<<4)^(Y>>>2|S<<30)^(Y>>>7|S<<25)),z+=j>>>16,x+=(A=Y&Q^Y&W^Q&W)>>>16,T+=65535&(j=S&C^S&_^C&_),z+=j>>>16,d=65535&(T+=(x+=(D+=65535&A)>>>16)>>>16)|(z+=T>>>16)<<16,w=65535&D|x<<16,D=65535&(A=g),x=A>>>16,T=65535&(j=a),z=j>>>16,x+=(A=N)>>>16,T+=65535&(j=I),z+=j>>>16,C=o,_=i,P=s,L=a=65535&(T+=(x+=(D+=65535&A)>>>16)>>>16)|(z+=T>>>16)<<16,k=c,U=u,R=l,S=d,Q=h,W=f,B=p,G=g=65535&D|x<<16,Z=y,J=M,F=m,Y=w,b%16==15)for(v=0;v<16;v++)j=E[v],D=65535&(A=O[v]),x=A>>>16,T=65535&j,z=j>>>16,j=E[(v+9)%16],D+=65535&(A=O[(v+9)%16]),x+=A>>>16,T+=65535&j,z+=j>>>16,I=E[(v+1)%16],D+=65535&(A=((N=O[(v+1)%16])>>>1|I<<31)^(N>>>8|I<<24)^(N>>>7|I<<25)),x+=A>>>16,T+=65535&(j=(I>>>1|N<<31)^(I>>>8|N<<24)^I>>>7),z+=j>>>16,I=E[(v+14)%16],x+=(A=((N=O[(v+14)%16])>>>19|I<<13)^(I>>>29|N<<3)^(N>>>6|I<<26))>>>16,T+=65535&(j=(I>>>19|N<<13)^(N>>>29|I<<3)^I>>>6),z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,E[v]=65535&T|z<<16,O[v]=65535&D|x<<16;D=65535&(A=Y),x=A>>>16,T=65535&(j=S),z=j>>>16,j=e[0],x+=(A=t[0])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[0]=S=65535&T|z<<16,t[0]=Y=65535&D|x<<16,D=65535&(A=Q),x=A>>>16,T=65535&(j=C),z=j>>>16,j=e[1],x+=(A=t[1])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[1]=C=65535&T|z<<16,t[1]=Q=65535&D|x<<16,D=65535&(A=W),x=A>>>16,T=65535&(j=_),z=j>>>16,j=e[2],x+=(A=t[2])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[2]=_=65535&T|z<<16,t[2]=W=65535&D|x<<16,D=65535&(A=B),x=A>>>16,T=65535&(j=P),z=j>>>16,j=e[3],x+=(A=t[3])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[3]=P=65535&T|z<<16,t[3]=B=65535&D|x<<16,D=65535&(A=G),x=A>>>16,T=65535&(j=L),z=j>>>16,j=e[4],x+=(A=t[4])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[4]=L=65535&T|z<<16,t[4]=G=65535&D|x<<16,D=65535&(A=Z),x=A>>>16,T=65535&(j=k),z=j>>>16,j=e[5],x+=(A=t[5])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[5]=k=65535&T|z<<16,t[5]=Z=65535&D|x<<16,D=65535&(A=J),x=A>>>16,T=65535&(j=U),z=j>>>16,j=e[6],x+=(A=t[6])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[6]=U=65535&T|z<<16,t[6]=J=65535&D|x<<16,D=65535&(A=F),x=A>>>16,T=65535&(j=R),z=j>>>16,j=e[7],x+=(A=t[7])>>>16,T+=65535&j,z+=j>>>16,z+=(T+=(x+=(D+=65535&A)>>>16)>>>16)>>>16,e[7]=R=65535&T|z<<16,t[7]=F=65535&D|x<<16,V+=128,r-=128}return r}function X(e,t,n){var r,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,V(o,i,t,n),n%=128,r=0;r<n;r++)s[r]=t[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,f(s,n-8,a/536870912|0,a<<3),V(o,i,s,n),r=0;r<8;r++)f(e,8*r,o[r],i[r]);return 0}function H(e,n){var r=t(),o=t(),i=t(),s=t(),a=t(),c=t(),l=t(),d=t(),h=t();k(r,e[1],e[0]),k(h,n[1],n[0]),U(r,r,h),L(o,e[0],e[1]),L(h,n[0],n[1]),U(o,o,h),U(i,e[3],n[3]),U(i,i,u),U(s,e[2],n[2]),L(s,s,s),k(a,o,r),k(c,s,i),L(l,s,i),L(d,o,r),U(e[0],a,c),U(e[1],d,l),U(e[2],l,c),U(e[3],a,d)}function K(e,t,n){var r;for(r=0;r<4;r++)O(e[r],t[r],n)}function $(e,n){var r=t(),o=t(),i=t();Y(i,n[2]),U(r,n[0],i),U(o,n[1],i),S(e,o),e[31]^=_(r)<<7}function ee(e,t,n){var r,o;for(z(e[0],i),z(e[1],s),z(e[2],s),z(e[3],i),o=255;o>=0;--o)K(e,t,r=n[o/8|0]>>(7&o)&1),H(t,e),H(e,e),K(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];z(r[0],l),z(r[1],d),z(r[2],s),U(r[3],l,d),ee(e,r,n)}function re(e,r,o){var i,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||n(r,32),X(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,ne(a,s),$(e,a),i=0;i<32;i++)r[i+32]=e[i];return 0}var oe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var n,r,o,i;for(r=63;r>=32;--r){for(n=0,o=r-32,i=r-12;o<i;++o)t[o]+=n-16*t[r]*oe[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=256*n;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*oe[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*oe[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function se(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,n)}function ae(e,n,r,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];X(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=r+64;for(i=0;i<r;i++)e[64+i]=n[i];for(i=0;i<32;i++)e[32+i]=a[32+i];for(X(u,e.subarray(32),r+32),se(u),ne(d,u),$(e,d),i=32;i<64;i++)e[i]=o[i];for(X(c,e,r+64),se(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=u[i];for(i=0;i<32;i++)for(s=0;s<32;s++)l[i+s]+=c[i]*a[s];return ie(e.subarray(32),l),h}function ce(e,n,r,o){var a,u=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),o=t(),a=t(),u=t(),l=t(),d=t(),f=t();return z(e[2],s),P(e[1],n),R(a,e[1]),U(u,a,c),k(a,a,e[2]),L(u,e[2],u),R(l,u),R(d,l),U(f,d,l),U(r,f,a),U(r,r,u),Q(r,r),U(r,r,a),U(r,r,u),U(r,r,u),U(e[0],r,u),R(o,e[0]),U(o,o,u),C(o,a)&&U(e[0],e[0],h),R(o,e[0]),U(o,o,u),C(o,a)?-1:(_(e[0])===n[31]>>7&&k(e[0],i,e[0]),U(e[3],e[0],e[1]),0)}(f,o))return-1;for(a=0;a<r;a++)e[a]=n[a];for(a=0;a<32;a++)e[a+32]=o[a];if(X(l,e,r),se(l),ee(d,f,l),ne(f,n.subarray(32)),H(d,f),$(u,d),r-=64,y(n,0,u,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=n[a+64];return r}var ue=16,le=64,de=32,he=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:v,crypto_stream:b,crypto_stream_salsa20_xor:I,crypto_stream_salsa20:N,crypto_onetimeauth:A,crypto_onetimeauth_verify:D,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:x,crypto_secretbox_open:T,crypto_scalarmult:W,crypto_scalarmult_base:B,crypto_box_beforenm:Z,crypto_box_afternm:J,crypto_box:function(e,t,n,r,o,i){var s=new Uint8Array(32);return Z(s,o,i),J(e,t,n,r,s)},crypto_box_open:function(e,t,n,r,o,i){var s=new Uint8Array(32);return Z(s,o,i),F(e,t,n,r,s)},crypto_box_keypair:G,crypto_hash:X,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:oe,pack25519:S,unpack25519:P,M:U,A:L,S:R,Z:k,pow2523:Q,add:H,set25519:z,modL:ie,scalarmult:ee,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(32+e.length),o=new Uint8Array(r.length),i=0;i<e.length;i++)r[i+32]=e[i];return x(o,r,r.length,t,n),o.subarray(ue)},e.secretbox.open=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(ue+e.length),o=new Uint8Array(r.length),i=0;i<e.length;i++)r[i+ue]=e[i];return r.length<32||0!==T(o,r,r.length,t,n)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return W(n,e,t),n},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return B(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,o){var i=e.box.before(r,o);return e.secretbox(t,n,i)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return Z(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,o){var i=e.box.before(r,o);return e.secretbox.open(t,n,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return B(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var n=new Uint8Array(le+e.length);return ae(n,e,e.length,t),n},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ce(n,e,e.length,t);if(r<0)return null;for(var o=new Uint8Array(r),i=0;i<o.length;i++)o[i]=n[i];return o},e.sign.detached=function(t,n){for(var r=e.sign(t,n),o=new Uint8Array(le),i=0;i<o.length;i++)o[i]=r[i];return o},e.sign.detached.verify=function(e,t,n){if(pe(e,t,n),t.length!==le)throw new Error("bad signature size");if(n.length!==de)throw new Error("bad public key size");var r,o=new Uint8Array(le+e.length),i=new Uint8Array(le+e.length);for(r=0;r<le;r++)o[r]=t[r];for(r=0;r<e.length;r++)o[r+le]=e[r];return ce(i,o,o.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(he);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(de),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),n=new Uint8Array(he),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===p(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,o=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(o.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=o[r];ge(o)}))}else void 0!==te&&(t=te("crypto"))&&t.randomBytes&&e.setPRNG((function(e,n){var r,o=t.randomBytes(n);for(r=0;r<n;r++)e[r]=o[r];ge(o)}))}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})}}),Lt=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/models.js"(e){oe();var t=e&&e.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.createJSONRPCNotification=e.createJSONRPCRequest=e.createJSONRPCSuccessResponse=e.createJSONRPCErrorResponse=e.JSONRPCErrorCode=e.JSONRPCErrorException=e.isJSONRPCResponses=e.isJSONRPCResponse=e.isJSONRPCRequests=e.isJSONRPCRequest=e.isJSONRPCID=e.JSONRPC=void 0,e.JSONRPC="2.0";e.isJSONRPCID=function(e){return"string"==typeof e||"number"==typeof e||null===e};e.isJSONRPCRequest=function(t){return t.jsonrpc===e.JSONRPC&&void 0!==t.method&&void 0===t.result&&void 0===t.error};e.isJSONRPCRequests=function(t){return Array.isArray(t)&&t.every(e.isJSONRPCRequest)};e.isJSONRPCResponse=function(t){return t.jsonrpc===e.JSONRPC&&void 0!==t.id&&(void 0!==t.result||void 0!==t.error)};e.isJSONRPCResponses=function(t){return Array.isArray(t)&&t.every(e.isJSONRPCResponse)};var n,r=function(e,t,n){var r={code:e,message:t};return null!=n&&(r.data=n),r},o=function(e){function n(t,r,o){var i=e.call(this,t)||this;return Object.setPrototypeOf(i,n.prototype),i.code=r,i.data=o,i}return t(n,e),n.prototype.toObject=function(){return r(this.code,this.message,this.data)},n}(Error);e.JSONRPCErrorException=o,(n=e.JSONRPCErrorCode||(e.JSONRPCErrorCode={}))[n.ParseError=-32700]="ParseError",n[n.InvalidRequest=-32600]="InvalidRequest",n[n.MethodNotFound=-32601]="MethodNotFound",n[n.InvalidParams=-32602]="InvalidParams",n[n.InternalError=-32603]="InternalError";e.createJSONRPCErrorResponse=function(t,n,o,i){return{jsonrpc:e.JSONRPC,id:t,error:r(n,o,i)}};e.createJSONRPCSuccessResponse=function(t,n){return{jsonrpc:e.JSONRPC,id:t,result:null!=n?n:null}};e.createJSONRPCRequest=function(t,n,r){return{jsonrpc:e.JSONRPC,id:t,method:n,params:r}};e.createJSONRPCNotification=function(t,n){return{jsonrpc:e.JSONRPC,method:t,params:n}}}}),kt=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/internal.js"(e){oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultErrorCode=void 0,e.DefaultErrorCode=0}}),Ut=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/client.js"(e){oe();var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCClient=void 0;var r=Lt(),o=kt(),i=function(){function e(e,t){this._send=e,this.createID=t,this.idToResolveMap=new Map,this.id=0}return e.prototype._createID=function(){return this.createID?this.createID():++this.id},e.prototype.timeout=function(e,t){var n=this;void 0===t&&(t=function(e){return(0,r.createJSONRPCErrorResponse)(e,o.DefaultErrorCode,"Request timeout")});var i=function(r,o){var i=setTimeout((function(){r.forEach((function(e){var r=n.idToResolveMap.get(e);r&&(n.idToResolveMap.delete(e),r(t(e)))}))}),e);return o().then((function(e){return clearTimeout(i),e}),(function(e){return clearTimeout(i),Promise.reject(e)}))};return{request:function(e,t,r){var o=n._createID();return i([o],(function(){return n.requestWithID(e,t,r,o)}))},requestAdvanced:function(e,t){return function(e,t){var r=(Array.isArray(e)?e:[e]).map((function(e){return e.id})).filter(s);return i(r,(function(){return n.requestAdvanced(e,t)}))}(e,t)}}},e.prototype.request=function(e,t,n){return this.requestWithID(e,t,n,this._createID())},e.prototype.requestWithID=function(e,o,i,s){return t(this,void 0,void 0,(function(){var t,a;return n(this,(function(n){switch(n.label){case 0:return t=(0,r.createJSONRPCRequest)(s,e,o),[4,this.requestAdvanced(t,i)];case 1:return void 0===(a=n.sent()).result||a.error?void 0===a.result&&a.error?[2,Promise.reject(new r.JSONRPCErrorException(a.error.message,a.error.code,a.error.data))]:[2,Promise.reject(new Error("An unexpected error occurred"))]:[2,a.result]}}))}))},e.prototype.requestAdvanced=function(e,t){var n=this,i=Array.isArray(e);Array.isArray(e)||(e=[e]);var a=e.filter((function(e){return s(e.id)})),c=a.map((function(e){return new Promise((function(t){return n.idToResolveMap.set(e.id,t)}))})),u=Promise.all(c).then((function(e){return i||!e.length?e:e[0]}));return this.send(i?e:e[0],t).then((function(){return u}),(function(e){return a.forEach((function(t){n.receive((0,r.createJSONRPCErrorResponse)(t.id,o.DefaultErrorCode,e&&e.message||"Failed to send a request"))})),u}))},e.prototype.notify=function(e,t,n){var o=(0,r.createJSONRPCNotification)(e,t);this.send(o,n).then(void 0,(function(){}))},e.prototype.send=function(e,r){return t(this,void 0,void 0,(function(){return n(this,(function(t){return[2,this._send(e,r)]}))}))},e.prototype.rejectAllPendingRequests=function(e){this.idToResolveMap.forEach((function(t,n){return t((0,r.createJSONRPCErrorResponse)(n,o.DefaultErrorCode,e))})),this.idToResolveMap.clear()},e.prototype.receive=function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){var n=t.idToResolveMap.get(e.id);n&&(t.idToResolveMap.delete(e.id),n(e))}))},e}();e.JSONRPCClient=i;var s=function(e){return null!=e}}}),Rt=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/interfaces.js"(e){oe(),Object.defineProperty(e,"__esModule",{value:!0})}}),Yt=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/server.js"(e){oe();var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},r=e&&e.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},o=e&&e.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCServer=void 0;var i=Lt(),s=kt(),a=function(e){return(0,i.createJSONRPCErrorResponse)((0,i.isJSONRPCID)(e.id)?e.id:null,i.JSONRPCErrorCode.InvalidRequest,"Invalid Request")},c=function(){function e(e){var t;void 0===e&&(e={}),this.mapErrorToJSONRPCErrorResponse=h,this.nameToMethodDictionary={},this.middleware=null,this.errorListener=null!==(t=e.errorListener)&&void 0!==t?t:console.warn}return e.prototype.hasMethod=function(e){return!!this.nameToMethodDictionary[e]},e.prototype.addMethod=function(e,t){this.addMethodAdvanced(e,this.toJSONRPCMethod(t))},e.prototype.removeMethod=function(e){delete this.nameToMethodDictionary[e]},e.prototype.toJSONRPCMethod=function(e){return function(t,n){var r=e(t.params,n);return Promise.resolve(r).then((function(e){return d(t.id,e)}))}},e.prototype.addMethodAdvanced=function(e,n){var r;this.nameToMethodDictionary=t(t({},this.nameToMethodDictionary),((r={})[e]=n,r))},e.prototype.receiveJSON=function(e,t){var n=this.tryParseRequestJSON(e);return n?this.receive(n,t):Promise.resolve((0,i.createJSONRPCErrorResponse)(null,i.JSONRPCErrorCode.ParseError,"Parse error"))},e.prototype.tryParseRequestJSON=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.receive=function(e,t){return Array.isArray(e)?this.receiveMultiple(e,t):this.receiveSingle(e,t)},e.prototype.receiveMultiple=function(e,t){return n(this,void 0,void 0,(function(){var n,o=this;return r(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map((function(e){return o.receiveSingle(e,t)})))];case 1:return 1===(n=r.sent().filter(u)).length?[2,n[0]]:n.length?[2,n]:[2,null]}}))}))},e.prototype.receiveSingle=function(e,t){return n(this,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return n=this.nameToMethodDictionary[e.method],(0,i.isJSONRPCRequest)(e)?[3,1]:[2,a(e)];case 1:return[4,this.callMethod(n,e,t)];case 2:return o=r.sent(),[2,f(e,o)]}}))}))},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.middleware?this.middleware=this.combineMiddlewares(o([this.middleware],e,!0)):this.middleware=this.combineMiddlewares(e)},e.prototype.combineMiddlewares=function(e){return e.length?e.reduce(this.middlewareReducer):null},e.prototype.middlewareReducer=function(e,t){return function(n,r,o){return e((function(e,r){return t(n,e,r)}),r,o)}},e.prototype.callMethod=function(e,t,n){var r=this,o=function(e){return r.errorListener('An unexpected error occurred while executing "'.concat(t.method,'" JSON-RPC method:'),e),Promise.resolve(r.mapErrorToJSONRPCErrorResponseIfNecessary(t.id,e))};try{return(this.middleware||l)((function(t,n){return e?e(t,n):void 0!==t.id?Promise.resolve((r=t.id,(0,i.createJSONRPCErrorResponse)(r,i.JSONRPCErrorCode.MethodNotFound,"Method not found"))):Promise.resolve(null);var r}),t,n).then(void 0,o)}catch(e){return o(e)}},e.prototype.mapErrorToJSONRPCErrorResponseIfNecessary=function(e,t){return void 0!==e?this.mapErrorToJSONRPCErrorResponse(e,t):null},e}();e.JSONRPCServer=c;var u=function(e){return null!==e},l=function(e,t,n){return e(t,n)},d=function(e,t){return void 0!==e?(0,i.createJSONRPCSuccessResponse)(e,t):null},h=function(e,t){var n,r,o=null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"An unexpected error occurred",a=s.DefaultErrorCode;return t instanceof i.JSONRPCErrorException&&(a=t.code,r=t.data),(0,i.createJSONRPCErrorResponse)(e,a,o,r)},f=function(e,t){return t||(void 0!==e.id?(0,i.createJSONRPCErrorResponse)(e.id,i.JSONRPCErrorCode.InternalError,"Internal error"):null)}}}),Qt=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/server-and-client.js"(e){oe();var t=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCServerAndClient=void 0;var r=Lt(),o=function(){function e(e,t,n){var r;void 0===n&&(n={}),this.server=e,this.client=t,this.errorListener=null!==(r=n.errorListener)&&void 0!==r?r:console.warn}return e.prototype.applyServerMiddleware=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.server).applyMiddleware.apply(e,t)},e.prototype.hasMethod=function(e){return this.server.hasMethod(e)},e.prototype.addMethod=function(e,t){this.server.addMethod(e,t)},e.prototype.addMethodAdvanced=function(e,t){this.server.addMethodAdvanced(e,t)},e.prototype.removeMethod=function(e){this.server.removeMethod(e)},e.prototype.timeout=function(e){return this.client.timeout(e)},e.prototype.request=function(e,t,n){return this.client.request(e,t,n)},e.prototype.requestAdvanced=function(e,t){return this.client.requestAdvanced(e,t)},e.prototype.notify=function(e,t,n){this.client.notify(e,t,n)},e.prototype.rejectAllPendingRequests=function(e){this.client.rejectAllPendingRequests(e)},e.prototype.receiveAndSend=function(e,o,i){return t(this,void 0,void 0,(function(){var t,s;return n(this,(function(n){switch(n.label){case 0:return(0,r.isJSONRPCResponse)(e)||(0,r.isJSONRPCResponses)(e)?(this.client.receive(e),[3,4]):[3,1];case 1:return(0,r.isJSONRPCRequest)(e)||(0,r.isJSONRPCRequests)(e)?[4,this.server.receive(e,o)]:[3,3];case 2:return(t=n.sent())?[2,this.client.send(t,i)]:[3,4];case 3:return s="Received an invalid JSON-RPC message",this.errorListener(s,e),[2,Promise.reject(new Error(s))];case 4:return[2]}}))}))},e}();e.JSONRPCServerAndClient=o}}),Wt=ne({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/index.js"(e){oe();var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ut(),e),n(Rt(),e),n(Lt(),e),n(Yt(),e),n(Qt(),e)}}),Bt=ne({"../../node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js"(e){oe(),Object.defineProperty(e,"__esModule",{value:!0}),e.bech32m=e.bech32=void 0;var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<32;e++){const r=t.charAt(e);n[r]=e}function r(e){const t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let n=0;n<e.length;++n){const o=e.charCodeAt(n);if(o<33||o>126)return"Invalid prefix ("+e+")";t=r(t)^o>>5}t=r(t);for(let n=0;n<e.length;++n){const o=e.charCodeAt(n);t=r(t)^31&o}return t}function i(e,t,n,r){let o=0,i=0;const s=(1<<n)-1,a=[];for(let r=0;r<e.length;++r)for(o=o<<t|e[r],i+=t;i>=n;)i-=n,a.push(o>>i&s);if(r)i>0&&a.push(o<<n-i&s);else{if(i>=t)return"Excess padding";if(o<<n-i&s)return"Non-zero padding"}return a}function s(e){return i(e,8,5,!0)}function a(e){const t=i(e,5,8,!1);if(Array.isArray(t))return t}function c(e){const t=i(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function u(e){let i;function u(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const c=(e=s).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),l=e.slice(c+1);if(l.length<6)return"Data too short";let d=o(u);if("string"==typeof d)return d;const h=[];for(let e=0;e<l.length;++e){const t=l.charAt(e),o=n[t];if(void 0===o)return"Unknown character "+t;d=r(d)^o,e+6>=l.length||h.push(o)}return d!==i?"Invalid checksum for "+e:{prefix:u,words:h}}return i="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const n=u(e,t);if("object"==typeof n)return n},decode:function(e,t){const n=u(e,t);if("object"==typeof n)return n;throw new Error(n)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"==typeof a)throw new Error(a);let c=e+"1";for(let e=0;e<n.length;++e){const o=n[e];if(o>>5)throw new Error("Non 5-bit word");a=r(a)^o,c+=t.charAt(o)}for(let e=0;e<6;++e)a=r(a);a^=i;for(let e=0;e<6;++e){c+=t.charAt(a>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:a,fromWords:c}}e.bech32=u("bech32"),e.bech32m=u("bech32m")}});function Gt(e){return"undefined"==typeof window?{connectors:[]}:e()}function Zt(e){return!!e&&void 0!==e.signMessageCustomCurve}oe(),oe(),oe(),oe(),oe(),oe();var Jt=class extends d{constructor(){super(...arguments),this.data={}}async getItem(e){return this.data[e]}async setItem(e,t){this.data[e]=t}async removeItem(e){delete this.data[e]}async clear(){this.data={}}};oe(),oe();var Ft="https://safe.bako.global",qt="undefined"!=typeof window,Vt=qt?window:{},Xt=/^((?!chrome|android).)*safari/i.test(Vt.navigator?.userAgent??""),Ht="sessionId",Kt=class{constructor(e){this.config=e,this.isMobile=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.isOpen=!1,this.opned=null,this.request_id=e.request_id}get popupConfig(){const{height:e,width:t}=this.config;return{top:Vt.innerHeight/2-e/2,left:Vt.innerWidth/2-t/2,width:t,height:!this.isMobile&&Vt.innerHeight>=e?e:Vt.innerHeight}}open(e,t){this.isOpen&&t(new Error("Window is already open")),this.isSafariBrowser||this.makePopup(e),this.isSafariBrowser&&this.makeFrame(e,!0)}close(){const e=document.getElementById(`${this.config.sessionId}-iframe`),t=document.getElementById(`${this.config.sessionId}-backdrop`);e&&document.body.removeChild(e),t&&document.body.removeChild(t),this.opned&&this.opned.close(),this.isOpen=!1}makeLink(e){const t=`${this.config.appUrl}${e}${this.queryString}`,n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.click(),this.isOpen=!0}makeFrame(e,t=!1){const n=this.small,r=document.createElement("iframe");r.id=`${this.config.sessionId}-iframe`,r.src=`${this.config.appUrl}${e}${this.queryString}${t?"&byConnector=true":""}`,r.style.position="fixed",r.style.zIndex="99999999",r.style.top=`${n.top}`,r.style.left=`${n.left}`,r.style.width=n.width,r.style.height=n.height,r.style.borderRadius="16px";const o=document.createElement("div");o.id=`${this.config.sessionId}-backdrop`,o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0,0,0,0.5)",o.style.zIndex="99999998",o.addEventListener("click",(()=>this.close())),document.body.appendChild(o),document.body.appendChild(r),this.isOpen=!0}makePopup(e){const t=`${this.config.appUrl}${e}${this.queryString}`,n=Vt.open(t,"popup",`width=${this.popupConfig.width}, height=${this.popupConfig.height}, top=${this.popupConfig.top}, left=${this.popupConfig.left}`);return n&&(this.opned=n),this.isOpen=!0,n}get queryString(){const{sessionId:e}=this.config;return`?sessionId=${e}&origin=${Vt.location.origin}&name=${Vt.document.title}&request_id=${this.request_id}`}get small(){const e={md:{top:0,left:0,limit:650,width:"100%",height:"100%"},lg:{top:(Vt.innerHeight-.7*Vt.innerHeight)/2+"px",left:(Vt.innerWidth-.5*Vt.innerWidth)/2+"px",limit:1024,width:"50%",height:"70%"},xl:{top:(Vt.innerHeight-650)/2+"px",left:(Vt.innerWidth-500)/2+"px",limit:1440,height:"650px",width:"500px"}};return Vt.innerWidth<e.md.limit?e.md:Vt.innerWidth<e.lg.limit?e.lg:e.xl}};oe(),oe();var $t=(e=>(e.DEFAULT="message",e.CLIENT_DISCONNECTED="[CLIENT_DISCONNECTED]",e.CLIENT_CONNECTED="[CONNECTED]",e.TX_PENDING="[TX_EVENT_REQUESTED]",e.TX_CONFIRMED="[TX_EVENT_CONFIRMED]",e.TX_TIMEOUT="[TX_EVENT_TIMEOUT]",e.AUTH_CONFIRMED="[AUTH_CONFIRMED]",e))($t||{}),en={username:"[CONNECTOR]",data:new Date,origin:Vt.origin??Ft},tn=class{constructor({sessionId:e,events:t}){this.request_id=crypto.randomUUID(),this.server=I("https://api.bako.global",{auth:{...en,sessionId:e,request_id:this.request_id},autoConnect:!1,reconnection:!1}),this.events=t,this.server?.on("message",(e=>{e.to===en.username&&this.events.emit(e.type,{from:e.username,data:e.data})})),this.server.connect()}get isConnected(){return this.server.connected}};oe();var nn=class{constructor(e){this.baseUrl=e}async get(e){const t=await fetch(h(this.baseUrl,e)).then((e=>e.json()));return t}async delete(e){await fetch(h(this.baseUrl,e),{method:"DELETE"})}},rn=class extends t{constructor(e){super(),this.name="Bako Safe",this.metadata={image:{light:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iOCIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzEzMjQ5XzE2MjI4MCkiLz4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzMjQ5XzE2MjI4MCkiPgo8cGF0aCBkPSJNMTMgMjUuOTE2N0wzNyAzNy44NjcxTDI1LjAwMjQgMTguOTg5M0wxMyAyNS45MTY3WiIgZmlsbD0iI0Y1RjVGNSIvPgo8cGF0aCBkPSJNMzMuODg2NCAyMi4yMTgyTDI0Ljk5NzYgMTcuMDg2NVY1LjEzNTc0TDEzIDEyLjA2MjhWMjUuOTE2TDI0Ljk5NzYgMTguOTg4OVYzMC45Mzk2TDEzIDM3Ljg2NjhMMjQuOTk3NiA0NC43OTM4TDM2Ljk5NTIgMzcuODY2OFYyNy42MDMzQzM2Ljk5NTIgMjUuMzgxNiAzNS44MDk4IDIzLjMyOTEgMzMuODg2NCAyMi4yMTgyWiIgZmlsbD0iIzFFMUYyMiIvPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTMyNDlfMTYyMjgwIiB4MT0iMCIgeTE9IjAiIHgyPSI1Mi4zMjg1IiB5Mj0iNDcuNDMxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRkMwMTAiLz4KPHN0b3Agb2Zmc2V0PSIwLjQ4IiBzdG9wLWNvbG9yPSIjRUJBMzEyIi8+CjxzdG9wIG9mZnNldD0iMC43MSIgc3RvcC1jb2xvcj0iI0QzODAxNSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTkiIHN0b3AtY29sb3I9IiNCMjRGMTgiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMzI0OV8xNjIyODAiPgo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iNDAiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMyA1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=",dark:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIHZpZXdCb3g9IjAgMCA1MCA1MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iOCIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzEzMjQ5XzE2MjI4MCkiLz4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzMjQ5XzE2MjI4MCkiPgo8cGF0aCBkPSJNMTMgMjUuOTE2N0wzNyAzNy44NjcxTDI1LjAwMjQgMTguOTg5M0wxMyAyNS45MTY3WiIgZmlsbD0iI0Y1RjVGNSIvPgo8cGF0aCBkPSJNMzMuODg2NCAyMi4yMTgyTDI0Ljk5NzYgMTcuMDg2NVY1LjEzNTc0TDEzIDEyLjA2MjhWMjUuOTE2TDI0Ljk5NzYgMTguOTg4OVYzMC45Mzk2TDEzIDM3Ljg2NjhMMjQuOTk3NiA0NC43OTM4TDM2Ljk5NTIgMzcuODY2OFYyNy42MDMzQzM2Ljk5NTIgMjUuMzgxNiAzNS44MDk4IDIzLjMyOTEgMzMuODg2NCAyMi4yMTgyWiIgZmlsbD0iIzFFMUYyMiIvPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTMyNDlfMTYyMjgwIiB4MT0iMCIgeTE9IjAiIHgyPSI1Mi4zMjg1IiB5Mj0iNDcuNDMxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNGRkMwMTAiLz4KPHN0b3Agb2Zmc2V0PSIwLjQ4IiBzdG9wLWNvbG9yPSIjRUJBMzEyIi8+CjxzdG9wIG9mZnNldD0iMC43MSIgc3RvcC1jb2xvcj0iI0QzODAxNSIvPgo8c3RvcCBvZmZzZXQ9IjAuOTkiIHN0b3AtY29sb3I9IiNCMjRGMTgiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xMzI0OV8xNjIyODAiPgo8cmVjdCB3aWR0aD0iMjQiIGhlaWdodD0iNDAiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMyA1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},install:{action:Ft,link:Ft,description:"Bako Safe is a connector to safe.bako.global, a non-custodial vault for your crypto assets."}},this.installed=!Xt,this.connected=!1,this.external=!1,this.events={...$t,...n},this.host=e?.host??"https://api.bako.global",this.appUrl=e?.appUrl??Ft,this.api=e?.api??new nn(this.host),this.storage=this.getStorage(e?.storage),this.setupReady=!1}getStorage(e){const t=e??Vt.localStorage??new Jt;if(!t)throw new Error("No storage provided");return t}async getSessionId(){let e=await(this.storage?.getItem(Ht))||"";return e||(e=crypto.randomUUID(),await(this.storage?.setItem(Ht,e))),e}checkWindow(){const e=setInterval((()=>{const t=this.dAppWindow?.isOpen;t||(this.emit("[CLIENT_DISCONNECTED]",{}),clearInterval(e))}),2e3),t=setInterval((()=>{const e=this.dAppWindow?.opned?.closed;e&&(this.emit("[CLIENT_DISCONNECTED]",{}),clearInterval(t))}),300)}async setup(){if(!qt)return;if(this.setupReady)return;const e=await this.getSessionId();this.sessionId=e,this.socket=new tn({sessionId:e,events:this}),this.dAppWindow=new Kt({sessionId:e,height:800,width:450,appUrl:this.appUrl,request_id:this.socket.request_id}),this.setupReady=!0}async connect(){return new Promise(((e,t)=>{this.connected?e(!0):(this.dAppWindow?.open("/",t),this.checkWindow(),this.once("[CLIENT_DISCONNECTED]",(()=>{this.dAppWindow?.close(),t(!1)})),this.once("[AUTH_CONFIRMED]",(async({data:t})=>{const n=t.connected,r=await this.accounts(),o=await this.currentAccount();this.emit(this.events.connection,n),this.emit(this.events.accounts,r),this.emit(this.events.currentAccount,o),this.dAppWindow?.close(),e(n)})))}))}async sendTransaction(e,t){return new Promise(((n,r)=>{this.dAppWindow?.open("/dapp/transaction",r),this.checkWindow(),this.once("[CLIENT_DISCONNECTED]",(()=>{this.dAppWindow?.close(),r(new Error("Client disconnected"))})),this.once("[TX_EVENT_TIMEOUT]",(()=>{this.dAppWindow?.close(),r(new Error("Transaction timeout"))})),this.once("[CONNECTED]",(()=>{this.socket?.server.emit("[TX_EVENT_REQUESTED]",{_transaction:t,_address:e})})),this.once("[TX_EVENT_CONFIRMED]",(({data:e})=>{n(`0x${e.id}`)}))}))}async ping(){return!Xt&&(await this.setup(),this.setupReady??!1)}async version(){return{app:"0.0.0",network:"0.0.0"}}async isConnected(){const e=this.sessionId??await this.getSessionId(),t=await this.api.get(`/connections/${e}/state`);return this.connected=t,t}async accounts(){const e=await this.api.get(`/connections/${this.sessionId}/accounts`);return Array.isArray(e)?e:[]}async currentAccount(){const e=await this.api.get(`/connections/${this.sessionId}/currentAccount`);return e&&JSON.stringify(e)===JSON.stringify({})?null:e}async disconnect(){return await this.api.delete(`/connections/${this.sessionId}`),this.emit(this.events.connection,!1),this.emit(this.events.accounts,[]),this.emit(this.events.currentAccount,null),!1}async currentNetwork(){const e=await this.api.get(`/connections/${this.sessionId}/currentNetwork`),t=new r(e);return{url:t.url,chainId:await t.getChainId()}}async networks(){return[await this.currentNetwork()]}async assets(){return[]}async signMessage(e,t){throw new Error("Method not implemented.")}async addAssets(e){throw new Error("Method not implemented.")}async addAsset(e){throw new Error("Method not implemented.")}async addNetwork(e){throw new Error("Method not implemented.")}async selectNetwork(e){throw new Error("Method not implemented.")}async addABI(e,t){throw new Error("Method not implemented.")}async getABI(e){throw new Error("Method not implemented.")}async hasABI(e){throw new Error("Method not implemented.")}};oe(),oe(),oe(),oe();var on=re(_t());oe();var sn=(e,t)=>{if(!e)throw new Error(t);return e},an=({signerAddress:e,predicate:{abi:t,bin:n}})=>{const{predicateBytes:r}=f.processPredicateData(n,t,{SIGNER:e});return s.fromB256(p(r)).toString()},cn=class{constructor(e,{abi:t,bin:n},r,o=Date.now()){this.generatedAt=Date.now(),this.getRoot=()=>this.root,this.getPredicateAddress=(0,on.default)((e=>an({signerAddress:this.adapter.convertAddress(e),predicate:{abi:this.abi,bin:this.bytecode}}))),this.build=(0,on.default)(((e,t,n)=>new f({bytecode:v(this.bytecode),abi:this.abi,provider:t,configurableConstants:{SIGNER:this.adapter.convertAddress(e)},data:n}))),this.getAccountAddress=(e,t=[])=>t.find((t=>this.getPredicateAddress(t)===e)),this.getPredicateAddresses=(e=[])=>e.map((e=>this.getPredicateAddress(e))),this.getMaxPredicateGasUsed=(0,on.default)((async e=>{const t=this.adapter.generateFakeAccount(),n=await e.getChainId(),r=this.build(t.getAddress(),e,[0]),o=new w;o.addCoinInput({id:M,assetId:M,amount:g(),owner:r.address,blockCreated:g(),txCreatedIdx:g()}),r.populateTransactionPredicateData(o);const i=o.getTransactionId(n),s=await t.signMessage(i);o.witnesses=this.adapter.buildWitnessData(t,s),await r.provider.estimatePredicates(o);const a=o.inputs[0];return a&&"predicate"in a?g(a.predicateGasUsed):g()})),this.equals=e=>!!e&&e.root===this.root,this.sort=e=>e.generatedAt-this.generatedAt,this.adapter=e,this.abi=t,this.bytecode=n,this.root=r,this.generatedAt=o}},un=e=>{const t=e.findIndex((e=>e instanceof Uint8Array&&64===e.length&&e.every((e=>0===e))));return-1!==t?t:e.length};oe(),oe(),oe();var ln=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let n=0;n<e.length;n++){const r=e.charAt(n),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=n}const n=e.length,r=e.charAt(0),o=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function s(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let i=0,s=0,a=0;for(;e[i]===r;)s++,i++;const c=(e.length-i)*o+1>>>0,u=new Uint8Array(c);for(;e[i];){let r=t[e.charCodeAt(i)];if(255===r)return;let o=0;for(let e=c-1;(0!==r||o<a)&&-1!==e;e--,o++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");a=o,i++}let l=c-a;for(;l!==c&&0===u[l];)l++;const d=new Uint8Array(s+(c-l));let h=s;for(;l!==c;)d[h++]=u[l++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let o=0,s=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,o++;const u=(c-a)*i+1>>>0,l=new Uint8Array(u);for(;a!==c;){let e=t[a],r=0;for(let t=u-1;(0!==e||r<s)&&-1!==t;t--,r++)e+=256*l[t]>>>0,l[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");s=r,a++}let d=u-s;for(;d!==u&&0===l[d];)d++;let h=r.repeat(o);for(;d<u;++d)h+=e.charAt(l[d]);return h},decodeUnsafe:s,decode:function(e){const t=s(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");oe();var dn=re(Pt()),hn=class{constructor(){this.generate=()=>{this.account=A("0x0000000000000000000000000000000000000000000000000000000000000001")},this.getAddress=()=>this.account.address,this.getRawAddress=()=>Buffer.from(this.account.address.slice(2),"hex"),this.signMessage=e=>this.account.signMessage({message:e}),this.generate()}},fn=class{constructor(){this.generate=()=>{this.keypair=j.generate()},this.getAddress=()=>this.keypair.publicKey.toString(),this.getRawAddress=()=>this.keypair.publicKey.toBytes(),this.getSmallTxId=e=>{const t=e.slice(2),n=`${t.slice(0,16)}${t.slice(-16)}`;return(new TextEncoder).encode(n)},this.signMessage=e=>Promise.resolve(dn.default.sign.detached(this.getSmallTxId(e),this.keypair.secretKey)),this.generate()}},pn=class{constructor(){this.convertAddress=e=>s.fromEvmAddress(e).toString(),this.generateFakeAccount=()=>new hn,this.buildWitnessData=(e,t)=>[t]}},gn=class{constructor(){this.convertAddress=e=>u(ln.decode(e)),this.generateFakeAccount=()=>new fn,this.buildWitnessData=(e,t)=>[t]}};oe(),oe();var yn=class extends t{constructor(){super(...arguments),this.connected=!1,this.installed=!1,this.external=!0,this.events=n,this.predicateAccount=null,this.subscriptions=[],this.hasProviderSucceeded=!0}async emitAccountChange(e,t=!0){await this.setupPredicate(),this.emit(this.events.connection,t),this.emit(this.events.currentAccount,this.predicateAccount?.getPredicateAddress(e)),this.emit(this.events.accounts,this.predicateAccount?.getPredicateAddresses(await this.walletAccounts()))}get predicateVersions(){return this._predicateVersions||(this._predicateVersions=Object.entries(this.getPredicateVersions()).map((([e,t])=>new cn(this.getWalletAdapter(),t.predicate,e,t.generatedAt))).sort(((e,t)=>e.sort(t)))),this._predicateVersions}isAddressPredicate(e,t){return this.predicateVersions.some((n=>n.getPredicateAddress(t)===e))}async getCurrentUserPredicate(){const e=[...this.predicateVersions].reverse();for(const t of e){const e=await this.getAccountAddress();if(!e)continue;const{fuelProvider:n}=await this.getProviders(),r=t.build(e,n,[1]),{balances:o}=await r.getBalances();if(o?.length>0)return t}return null}getNewestPredicate(){return this.predicateVersions[0]}async setupPredicate(){if(this.customPredicate?.abi&&this.customPredicate?.bin)return this.predicateAccount=new cn(this.getWalletAdapter(),this.customPredicate,"custom"),this.predicateAddress="custom",this.predicateAccount;const e=await this.getCurrentUserPredicate()??this.getNewestPredicate();if(!e)throw new Error("No predicate found");return this.predicateAddress=e.getRoot(),this.predicateAccount=e,this.predicateAccount}subscribe(e){this.subscriptions.push(e)}async prepareTransaction(e,t){if(!await this.isConnected())throw Error("No connected accounts");if(!this.predicateAccount)throw Error("No predicate account found");const n=s.fromDynamicInput(e).toString(),{fuelProvider:r}=await this.getProviders(),o=await r.getChainId(),i=this.predicateAccount.getAccountAddress(n,await this.walletAccounts());if(!i)throw Error(`No account found for ${n}`);const c=a(t),u=c.maxFee.toNumber(),l=un(c.witnesses),d=this.predicateAccount.build(i,r,[l]);d.connect(r);const h=d.populateTransactionPredicateData(c),f=await this.predicateAccount.getMaxPredicateGasUsed(r);let p=g(0);h.inputs.forEach((e=>{"predicate"in e&&e.predicate&&(e.witnessIndex=0,p=p.add(f))})),h.witnesses[l]=y([M,M]);const{gasPriceFactor:w}=await d.provider.getGasConfig(),{maxFee:I,gasPrice:N}=await d.provider.estimateTxGasAndFee({transactionRequest:h}),b=m({gas:p,priceFactor:w,gasPrice:N}),v=I.add(b);return v.gt(u)&&(h.maxFee=v.add(10)),await d.provider.estimateTxDependencies(h),{predicate:d,request:h,transactionId:h.getTransactionId(o),account:i,transactionRequest:c}}clearSubscriptions(){this.subscriptions&&(this.subscriptions.forEach((e=>e())),this.subscriptions=[])}async ping(){return this.getProviders().catch((()=>{this.hasProviderSucceeded=!1})).then((()=>{this.hasProviderSucceeded=!0})),this.hasProviderSucceeded}async version(){return{app:"0.0.0",network:"0.0.0"}}async isConnected(){await this.requireConnection();return(await this.accounts()).length>0}async accounts(){if(!this.predicateAccount)return[];const e=await this.walletAccounts();return this.predicateAccount.getPredicateAddresses(e)}async currentAccount(){if(!await this.isConnected())throw Error("No connected accounts");if(!this.predicateAccount)throw Error("No predicate account found");const e=await this.getAccountAddress();return e?this.predicateAccount.getPredicateAddress(e):null}async networks(){return[await this.currentNetwork()]}async currentNetwork(){const{fuelProvider:e}=await this.getProviders(),t=await e.getChainId();return{url:e.url,chainId:t}}async signMessage(e,t){throw new Error("A predicate account cannot sign messages")}async addAssets(e){throw new Error("Method not implemented.")}async addAsset(e){throw new Error("Method not implemented.")}async assets(){return[]}async addNetwork(e){throw new Error("Method not implemented.")}async selectNetwork(e){throw new Error("Method not implemented.")}async addAbi(e){throw new Error("Method not implemented.")}async getAbi(e){throw Error("Cannot get contractId ABI for a predicate")}async hasAbi(e){throw Error("A predicate account cannot have an ABI")}};oe();var Mn={chainId:e.fuel.testnet,url:"https://testnet.fuel.network/v1/graphql"},mn={chainId:e.fuel.mainnet,url:"https://mainnet.fuel.network/v1/graphql"},wn=[Mn,{chainId:e.fuel.devnet,url:"https://devnet.fuel.network/v1/graphql"},mn],In=e=>{const t=wn.find((t=>t.chainId===e));if(!t||!t.url)throw new Error(`Network with chainId ${e} not found`);return t.url};oe();var Nn=class{constructor(){this.storage=new Map}async setItem(e,t){this.storage.set(e,t)}async getItem(e){const t=this.storage.get(e);return void 0!==t?t:null}async removeItem(e){this.storage.delete(e)}async clear(){this.storage.clear()}};oe();var bn="undefined"!=typeof window,vn="burner-wallet-private-key",jn="burner-wallet-status",An=class extends t{constructor(e={}){super(),this.name="Burner Wallet",this.connected=!1,this.installed=!0,this.external=!1,this.events=n,this.metadata={image:"data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ny41IDQ3LjUiPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZD0iTTAgMzhoMzhWMEgwdjM4WiIvPjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJiIj48cGF0aCBkPSJNMTguNTgzIDI3LjgzM2MtMi45NTctLjIzMS01LjY2NiAyLjU0Mi00LjY2NiA3LjA0Mi0zLjIzOS0yLjM4Ni0zLjMzMi02LjQwMy0yLjMzMy05IDEuMDQxLTIuNzA4LS4wNDItNC45NTgtMi41ODQtNS4yMDgtMi44MzktLjI4LTQuNDE2IDMuMDQyLTIuOTYyIDguMzMzQTE2LjkzNiAxNi45MzYgMCAwIDEgMiAxOEMyIDguNjExIDkuNjExIDEgMTkgMXMxNyA3LjYxMSAxNyAxN2MwIDIuMDYzLS4zNjcgNC4wMzktMS4wNCA1Ljg2OC0uNDYtNS4zODgtMy4zMzMtOC4xNTctNi4zMzUtNi44NjgtMi44MTIgMS4yMDgtLjkxNyA1LjkxNy0uNzc3IDguMTY0LjIzNiAzLjgwOS0uMDEyIDguMTY5LTYuOTMxIDExLjc5NCAyLjg3NS01LjQ5OS4zMzMtOC45MTctMi4zMzQtOS4xMjUiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjYSkiIHRyYW5zZm9ybT0ibWF0cml4KDEuMjUgMCAwIC0xLjI1IDAgNDcuNSkiPjxwYXRoIGZpbGw9IiNmNDkwMGMiIGQ9Ik0zNiAxOGMwIDIuMDYzLS4zNjcgNC4wMzktMS4wNCA1Ljg2OC0uNDYtNS4zODktMy4zMzMtOC4xNTctNi4zMzUtNi44NjgtMi44MTMgMS4yMDgtLjkxNyA1LjkxNy0uNzc3IDguMTY0LjIzNiAzLjgwOS0uMDEyIDguMTY5LTYuOTMxIDExLjc5NCAyLjg3NS01LjUuMzMzLTguOTE2LTIuMzM0LTkuMTI1LTIuOTU4LS4yMy01LjY2NiAyLjU0Mi00LjY2NiA3LjA0Mi0zLjIzOC0yLjM4Ni0zLjMzMy02LjQwMi0yLjMzNC05IDEuMDQyLTIuNzA4LS4wNDEtNC45NTgtMi41ODMtNS4yMDgtMi44MzktLjI4LTQuNDE3IDMuMDQxLTIuOTYyIDguMzMzQTE2LjkzNiAxNi45MzYgMCAwIDEgMiAxOEMyIDguNjExIDkuNjExIDEgMTkgMXMxNyA3LjYxMSAxNyAxNyIvPjwvZz48ZyBjbGlwLXBhdGg9InVybCgjYikiIHRyYW5zZm9ybT0ibWF0cml4KDEuMjUgMCAwIC0xLjI1IDAgNDcuNSkiPjxwYXRoIGZpbGw9IiNmZmNjNGQiIGQ9Ik0zMSA3YzAgMi4xODctLjU4NCA0LjIzNi0xLjYwNSA2LjAwMS4xNDctMy4wODQtMi41NjItNC4yOTMtNC4wMi0zLjcwOS0yLjEwNS44NDMtMS41NDEgMi4yOTEtMi4wODMgNS4yOTEtLjU0MiAzLTIuNjI1IDUuMDg0LTUuNzA5IDYgMi4yNS02LjMzMy0xLjI0Ny04LjY2Ny0zLjA4LTkuMDg0LTEuODcyLS40MjYtMy43NTMuMDAxLTMuOTY4IDQuMDA3QTExLjk2NyAxMS45NjcgMCAwIDEgNyA3QzcgLjM3MyAxMi4zNzMtNSAxOS01UzMxIC4zNzMgMzEgNyIvPjwvZz48L3N2Zz4=",install:{action:"",description:"Burner Wallet to connect to Fuel",link:""}},this.burnerWallet=null,this.fuelProvider=null,this.config={},this.storage=this.getStorage(e.storage),bn&&this.configProvider(e)}configProvider(t={}){const n=In(t.chainId??e.fuel.testnet);this.config=Object.assign(t,{fuelProvider:t.fuelProvider||new r(n)})}async getProvider(){if(!this.config.fuelProvider)throw new Error("Fuel provider not found");return this.fuelProvider||(this.fuelProvider=await this.config.fuelProvider),{fuelProvider:this.fuelProvider}}async generatePrivateKey(){const{privateKey:e}=o.generate();return await this.storage.setItem(vn,e),e}async getPrivateKey(){return await this.storage.getItem(vn)||null}async getStatus(){return await this.storage.getItem(jn)||null}async setupBurnerWallet(e=!1){if(this.burnerWallet)return;let t=await this.getPrivateKey();if(!e||t&&window.confirm("We detected a previous Burner Wallet session. Do you want to continue using the same wallet?")||(t=await this.generatePrivateKey()),!t)return;const{fuelProvider:n}=await this.getProvider();return this.burnerWallet=o.fromPrivateKey(t,n),this.burnerWallet}getStorage(e){return e||("undefined"==typeof window?new Nn:window.localStorage)}async ping(){return!0}async version(){return{app:"0.0.0",network:"0.0.0"}}async isConnected(){try{return"connected"===await this.getStatus()&&(await this.setupBurnerWallet(),!!this.burnerWallet)}catch{return!1}}async connect(){try{await Promise.all([this.setupBurnerWallet(!0),this.storage.setItem(jn,"connected")]);const e=this.burnerWallet?.address.toString();return this.emit(this.events.connection,!0),this.emit(this.events.currentAccount,e),this.emit(this.events.accounts,[e]),!0}catch{return!1}}async accounts(){if(!this.burnerWallet)throw Error("Wallet not connected");const e=this.burnerWallet.address.toString();return e?[e]:[]}async disconnect(){return await this.storage.setItem(jn,"disconnected"),this.burnerWallet=null,this.emit(this.events.connection,!1),this.emit(this.events.currentAccount,null),this.emit(this.events.accounts,[]),!1}async signMessage(e,t){if(!this.burnerWallet)throw Error("Wallet not connected");if(e!==this.burnerWallet.address.toString())throw Error("Address not found for the connector");return await this.burnerWallet.signMessage(t)}async sendTransaction(e,t){if(!this.burnerWallet)throw Error("Wallet not connected");if(e!==this.burnerWallet.address.toString())throw Error("Address not found for the connector");return(await this.burnerWallet.sendTransaction(t)).id}async currentAccount(){if(!this.burnerWallet)throw Error("Wallet not connected");return this.burnerWallet.address.toString()||null}async addAssets(e){throw new Error("Method not implemented.")}async addAsset(e){throw new Error("Method not implemented.")}async assets(){return[]}async addNetwork(e){throw new Error("Method not implemented.")}async selectNetwork(e){throw new Error("Method not implemented.")}async networks(){return[await this.currentNetwork()]}async currentNetwork(){const{fuelProvider:e}=await this.getProvider();return{chainId:await e.getChainId(),url:e.url??""}}async addAbi(e){throw new Error("Method not implemented.")}async getAbi(e){throw Error("Method not implemented.")}async hasAbi(e){throw Error("Method not implemented.")}};oe(),oe(),oe(),oe(),oe();var Dn="FuelConnectorScript",xn="FuelContentScript",Tn="message",zn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0OTEgNDk2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHRoZW1lPSJkYXJrIj48dGl0bGU+RnVlbCBXYWxsZXQgSWNvbjwvdGl0bGU+PHJlY3QgeD0iNDIuNTUzNSIgeT0iMjguMzQzOCIgd2lkdGg9IjM5Ny4xNTQiIGhlaWdodD0iNDI1LjE0MyIgZmlsbD0iIzA4MDgwOCI+PC9yZWN0PjxwYXRoIGQ9Ik0zMi42MTc4IDBDMTQuNTY5NyAwIDAgMTQuNzMyNyAwIDMyLjk4MjZWNDk2SDQwNS44NTJDNDE5LjU2OCA0OTYgNDMyLjc1OSA0OTAuNDkyIDQ0Mi40NzMgNDgwLjY3TDQ3NS4zNTMgNDQ3LjQyMkM0ODUuMDY2IDQzNy42IDQ5MC41MTMgNDI0LjI2MSA0OTAuNTEzIDQxMC4zOTFWMEgzMi42MTc4Wk0zMjAuMjcxIDYzLjc3NTJMMTYwLjcyNiAyMjUuMTA1QzE1Ni43ODggMjI5LjA4NiAxNTEuNDA3IDIzMS4zNDMgMTQ1LjgyOCAyMzEuMzQzQzEzNy42OSAyMzEuMzQzIDEzMC4yMDggMjI2LjU2NSAxMjYuNzMgMjE5LjEzMkw2NC45MDc0IDg3LjAwMjRDNTkuODUzOSA3Ni4xODUyIDY3LjY2MzggNjMuNzc1MiA3OS40NzcxIDYzLjc3NTJIMzIwLjI3MVpNNjMuMDY5NyA0MzIuMjI1VjI3NS4yNzVDNjMuMDY5NyAyNjYuOTE0IDY5Ljc2MzkgMjYwLjE0NSA3OC4wMzMyIDI2MC4xNDVIMjMzLjI0Nkw2My4wNjk3IDQzMi4yMjVaTTI0Ni4xMSAyMzEuMzQzSDE5NC43MjJMMzQ5LjM0NSA3NC45OTA2QzM1Ni40MzMgNjcuODIzNCAzNjYuMDggNjMuNzc1MiAzNzYuMTIxIDYzLjc3NTJINDI3LjUwOUwyNzIuODg3IDIyMC4xMjdDMjY1Ljc5OSAyMjcuMjk1IDI1Ni4xNTEgMjMxLjM0MyAyNDYuMTEgMjMxLjM0M1oiIGZpbGw9IiMwMEY1OEMiPjwvcGF0aD48L3N2Zz4=";oe();var En=re(Wt());oe();var On=(e=>(e.ping="ping",e.uiEvent="uiEvent",e.event="event",e.request="request",e.response="response",e.removeConnection="removeConnection",e))(On||{}),Sn=class extends t{constructor(e="Fuel Wallet"){super(),this.name="",this.connected=!1,this.installed=!1,this.external=!1,this.events=n,this.metadata={image:zn,install:{action:"Install",description:"To connect your Fuel Wallet, install the browser extension.",link:"https://chrome.google.com/webstore/detail/fuel-wallet/dldjpboieedgcmpkchcjcbijingjcgok"}},this.onMessage=e=>{const t=Object.freeze(e);if(!this.acceptMessage(t))return;const{data:n}=t;this.onCommunicationMessage(n)},this.onCommunicationMessage=e=>{switch(e.type){case"response":this.onResponse(e);break;case"event":this.onEvent(e)}},this.name=e,this.setMaxListeners(100),this.client=new En.JSONRPCClient(this.sendRequest.bind(this),this.createRequestId),this.setupListener(),this.setupConnector()}async setupConnector(){"undefined"!=typeof window&&this.ping().then((()=>{window.dispatchEvent(new CustomEvent(i,{detail:this}))})).catch((()=>{}))}acceptMessage(e){const{data:t}=e;return e.origin===window.origin&&"request"!==t.type&&t.connectorName===this.name&&t.target===Dn}setupListener(){"undefined"!=typeof window&&window.addEventListener(Tn,this.onMessage.bind(this))}createRequestId(){return crypto.randomUUID()}postMessage(e,t){window.postMessage(e,t||window.origin)}async sendRequest(e){e&&this.postMessage({type:"request",target:xn,connectorName:this.name,request:e})}onResponse(e){this.client.receive(e.response)}onEvent(e){e.events.forEach((e=>{"start"===e.event?this.setupConnector():this.emit(e.event,...e.params)}))}async ping(){return this.client.timeout(800).request("ping",{})}async isConnected(){try{return await this.client.request("isConnected",{})}catch{return!1}}async connect(){return this.client.request("connect",{})}async disconnect(){return this.client.request("disconnect",{})}async accounts(){return await this.client.request("accounts",{})}async currentAccount(){const e=await this.client.request("currentAccount",{});return e?s.fromDynamicInput(e).toString():null}async signMessage(e,t){if(!t.trim())throw new Error("Message is required");return this.client.request("signMessage",{address:e,message:t})}async sendTransaction(e,t,n){if(!t)throw new Error("Transaction is required");let r=a(t);const{onBeforeSend:o,skipCustomFee:i,provider:s,transactionState:c,transactionSummary:u}=n||{};return o&&(r=await o(r)),this.client.request("sendTransaction",{address:e,transaction:JSON.stringify(r),provider:s,skipCustomFee:i,transactionState:c,transactionSummary:u})}async assets(){return this.client.request("assets",{})}async addAsset(e){return this.addAssets([e])}async addAssets(e){const t=e.map((e=>{const t=e.networks.find((e=>"fuel"===e.type));if(!t)throw new Error("Asset for Fuel Network not found!");return{...e,imageUrl:e.icon,decimals:t.decimals,assetId:t.assetId}}));return this.client.request("addAssets",{assets:t})}async addABI(e,t){return this.client.request("addAbi",{abiMap:{[e]:t}})}async getABI(e){return this.client.request("getAbi",{contractId:e})}async hasABI(e){return!!await this.getABI(e)}async currentNetwork(){return this.client.request("network",{})}async selectNetwork(e){return this.client.request("selectNetwork",{network:e})}async networks(){return this.client.request("networks",{})}async addNetwork(e){const t=new r(e);return this.client.request("addNetwork",{network:{url:t.url,name:(await t.getChain()).name}})}async version(){return this.client.request("version",{app:"0.0.0",network:"0.0.0"})}};oe();var Cn=class extends Sn{constructor(){super("Fuel Wallet Development"),this.metadata={image:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0OTAgNDk2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHRoZW1lPSJkYXJrIj48dGl0bGU+RnVlbFdhbGxldCBEZXZlbG9wbWVudCBJY29uPC90aXRsZT48cmVjdCB4PSI0Mi41MDkiIHk9IjI4LjM0MzgiIHdpZHRoPSIzOTYuNzM5IiBoZWlnaHQ9IjQyNS4xNDMiIGZpbGw9IiMwMEY1OEMiPjwvcmVjdD48cGF0aCBkPSJNMzIuNTgzNiAwQzE0LjU1NDUgMCAwIDE0LjczMjcgMCAzMi45ODI2VjQ5Nkg0MDUuNDI3QzQxOS4xMjkgNDk2IDQzMi4zMDcgNDkwLjQ5MiA0NDIuMDEgNDgwLjY3TDQ3NC44NTYgNDQ3LjQyMkM0ODQuNTU5IDQzNy42IDQ5MCA0MjQuMjYxIDQ5MCA0MTAuMzkxVjBIMzIuNTgzNlpNMzE5LjkzNiA2My43NzUyTDE2MC41NTggMjI1LjEwNUMxNTYuNjI0IDIyOS4wODYgMTUxLjI0OCAyMzEuMzQzIDE0NS42NzYgMjMxLjM0M0MxMzcuNTQ2IDIzMS4zNDMgMTMwLjA3MiAyMjYuNTY1IDEyNi41OTggMjE5LjEzMkw2NC44Mzk0IDg3LjAwMjRDNTkuNzkxMyA3Ni4xODUyIDY3LjU5MyA2My43NzUyIDc5LjM5MzkgNjMuNzc1MkgzMTkuOTM2Wk02My4wMDM3IDQzMi4yMjVWMjc1LjI3NUM2My4wMDM3IDI2Ni45MTQgNjkuNjkwOSAyNjAuMTQ1IDc3Ljk1MTYgMjYwLjE0NUgyMzMuMDAyTDYzLjAwMzcgNDMyLjIyNVpNMjQ1Ljg1MiAyMzEuMzQzSDE5NC41MThMMzQ4Ljk3OSA3NC45OTA2QzM1Ni4wNiA2Ny44MjM0IDM2NS42OTcgNjMuNzc1MiAzNzUuNzI4IDYzLjc3NTJINDI3LjA2MkwyNzIuNjAxIDIyMC4xMjdDMjY1LjUyMSAyMjcuMjk1IDI1NS44ODMgMjMxLjM0MyAyNDUuODUyIDIzMS4zNDNaIiBmaWxsPSIjMDgwODA4Ij48L3BhdGg+PC9zdmc+",install:{action:"Install",description:"To connect your Fuel Wallet, you need to install the browser extension first.",link:"https://chrome.google.com/webstore/detail/fuel-wallet-development/hcgmehahnlbhpilepakbdinkhhaackmc"}}}};oe(),oe();var _n=re(Bt());oe();var Pn=class extends Sn{constructor(){super("Fuelet Wallet"),this.name="Fuelet Wallet",this.metadata={image:{light:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+RnVlbGV0IEljb248L3RpdGxlPjxwYXRoIGQ9Ik0yMCA0MEMxNC45MzU1IDQwIDEwLjMxNDUgMzguMTE0IDYuNzkwNSAzNS4wMTA1TDE4LjE0NiAyNi45MDdDMTguODQ1IDI2LjQwODUgMTkuODA2NSAyNi45NjQ1IDE5LjcyMiAyNy44MTk1TDE5LjI3NDUgMzIuMzYwNUMxOS4xODIgMzMuMjk1IDIwLjMxMjUgMzMuODI5NSAyMC45NzY1IDMzLjE2NTVMMjcuMDcxIDI3LjA3MUMzMS4wNjIgMjMuMDggMzAuOTc0NSAxNi41NTU1IDI2LjgwODUgMTIuNjc1NUMyMi44NDA1IDguOTggMTYuNTkzNSA5LjI2NCAxMi43NTk1IDEzLjA5ODVMNi44NTMgMTkuMDA0NUM2LjE4NyAxOS42NzEgNi43Mjc1IDIwLjgwNDUgNy42NjQ1IDIwLjcwNjVMMTIuMjA5IDIwLjIzMUMxMy4wNjU1IDIwLjE0MTUgMTMuNjI3NSAyMS4xMDUgMTMuMTI3IDIxLjgwNjVMNC45ODk1IDMzLjIwOTVDMS44ODYgMjkuNjg1NSAwIDI1LjA2NDUgMCAyMEMwIDguOTU0NSA4Ljk1NDUgMCAyMCAwQzMxLjA0NTUgMCA0MCA4Ljk1NDUgNDAgMjBDNDAgMzEuMDQ1NSAzMS4wNDU1IDQwIDIwIDQwWiIgZmlsbD0iIzI4MjgyRiI+PC9wYXRoPjwvc3ZnPg==",dark:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+RnVlbGV0IEljb248L3RpdGxlPjxwYXRoIGQ9Ik0yMCA0MEMxNC45MzU1IDQwIDEwLjMxNDUgMzguMTE0IDYuNzkwNSAzNS4wMTA1TDE4LjE0NiAyNi45MDdDMTguODQ1IDI2LjQwODUgMTkuODA2NSAyNi45NjQ1IDE5LjcyMiAyNy44MTk1TDE5LjI3NDUgMzIuMzYwNUMxOS4xODIgMzMuMjk1IDIwLjMxMjUgMzMuODI5NSAyMC45NzY1IDMzLjE2NTVMMjcuMDcxIDI3LjA3MUMzMS4wNjIgMjMuMDggMzAuOTc0NSAxNi41NTU1IDI2LjgwODUgMTIuNjc1NUMyMi44NDA1IDguOTggMTYuNTkzNSA5LjI2NCAxMi43NTk1IDEzLjA5ODVMNi44NTMgMTkuMDA0NUM2LjE4NyAxOS42NzEgNi43Mjc1IDIwLjgwNDUgNy42NjQ1IDIwLjcwNjVMMTIuMjA5IDIwLjIzMUMxMy4wNjU1IDIwLjE0MTUgMTMuNjI3NSAyMS4xMDUgMTMuMTI3IDIxLjgwNjVMNC45ODk1IDMzLjIwOTVDMS44ODYgMjkuNjg1NSAwIDI1LjA2NDUgMCAyMEMwIDguOTU0NSA4Ljk1NDUgMCAyMCAwQzMxLjA0NTUgMCA0MCA4Ljk1NDUgNDAgMjBDNDAgMzEuMDQ1NSAzMS4wNDU1IDQwIDIwIDQwWiIgZmlsbD0id2hpdGUiPjwvcGF0aD48L3N2Zz4="},install:{action:"Install",description:"Install Fuelet Wallet in order to connect it.",link:"https://fuelet.app/download/"}}}async currentAccount(){const e=await this.client.request("currentAccount",{});if(!e)return null;if(e.startsWith("fuel"))try{const t=function(e){const t=e.lastIndexOf("1");if(t<1)throw new Error("Invalid bech32 address: missing separator");const n=e.slice(t+1,e.length-6),r=[];for(const e of n){const t="qpzry9x8gf2tvdw0s3jn54khce6mua7l".indexOf(e);if(-1===t)throw new Error(`Invalid character '${e}' in bech32 address`);r.push(t)}return Uint8Array.from(_n.bech32.fromWords(r))}(e);if(32!==t.length)throw new Error("Decoded bech32 address does not have 32 bytes.");const n=`0x${Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join("")}`;return s.fromDynamicInput(n).toString()}catch(e){throw new Error(`Failed to decode bech32 address (no-checksum): ${e instanceof Error?e.message:e}`)}return super.currentAccount()}isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(navigator.userAgent)}isFueletWebView(){return/FueletMobileApp/i.test(navigator.userAgent)}isMobileNativeBrowser(){return!this.isFueletWebView()&&this.isMobile()}async connect(){return this.isMobileNativeBrowser()?(window.location.href=`app.fuelet://browser?url=${window.location.href}&action=connect`,!1):super.connect()}async ping(){return this.isMobileNativeBrowser()||await super.ping()}};oe(),oe(),oe();var Ln={MAINNET:{chainId:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",currency:"SOL",explorerUrl:"https://solscan.io",rpcUrl:"https://rpc.walletconnect.org/v1",chain:"solana"},TESTNET:{chainId:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",currency:"SOL",explorerUrl:"https://explorer.solana.com/?cluster=testnet",rpcUrl:"https://api.testnet.solana.com",chain:"solana"},DEVNET:{chainId:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",currency:"SOL",explorerUrl:"https://explorer.solana.com/?cluster=devnet",rpcUrl:"https://api.devnet.solana.com",chain:"solana"}},kn="00000000000000000000000000000000",Un=[Ln.MAINNET,Ln.TESTNET,Ln.DEVNET],Rn="undefined"!=typeof window;oe(),oe();var Yn=new Uint8Array([26,240,48,0,116,0,0,2,0,0,0,0,0,0,6,216,93,255,192,1,16,255,255,0,145,0,0,32,80,235,240,0,80,228,0,32,80,224,64,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,20,26,236,80,0,113,64,0,3,97,69,2,0,19,73,16,0,118,72,0,6,114,72,0,2,19,69,20,128,118,68,0,1,54,0,0,0,97,65,2,74,116,0,0,1,97,65,2,12,93,65,0,0,26,233,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,26,26,67,208,0,36,64,0,0,149,0,0,15,150,8,0,0,26,236,80,0,145,0,0,96,26,67,160,0,26,75,128,0,26,79,224,0,114,68,0,32,40,237,4,64,80,67,176,64,114,68,0,32,40,67,180,64,80,71,176,32,114,64,0,32,40,71,180,0,80,67,176,32,114,68,0,32,40,73,4,64,26,244,0,0,146,0,0,96,26,249,48,0,152,8,0,0,151,0,0,15,74,248,0,0,149,0,0,255,150,8,0,0,26,236,80,0,145,0,4,32,26,67,160,0,26,91,224,0,97,68,0,1,19,73,16,0,118,72,0,9,19,69,16,64,118,68,0,1,54,0,0,0,80,71,176,240,95,236,16,30,80,79,178,176,114,72,0,8,40,77,20,128,116,0,0,5,80,71,176,184,95,236,0,23,80,79,178,176,114,72,0,8,40,77,20,128,80,71,177,192,114,72,0,8,40,69,52,128,93,71,176,56,19,69,16,0,118,68,0,7,93,71,176,56,19,69,16,64,118,68,0,2,93,67,240,6,54,64,0,0,97,68,1,5,116,0,0,1,97,68,0,7,21,73,4,64,118,72,0,1,19,73,4,64,118,72,0,20,80,71,177,32,95,236,16,36,97,65,4,1,80,75,178,32,26,233,0,0,26,229,32,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,231,26,67,208,0,114,72,0,64,40,237,4,128,80,65,16,8,114,72,0,64,40,67,180,128,80,75,178,184,114,64,0,72,40,73,20,0,116,0,0,5,80,67,176,112,95,236,0,14,80,75,178,184,114,68,0,72,40,73,4,64,80,67,177,200,114,68,0,72,40,65,36,64,93,67,176,57,19,65,0,64,118,64,0,1,54,0,0,0,80,67,177,200,80,65,0,8,80,71,179,144,114,72,0,64,40,69,4,128,80,67,179,144,80,71,179,224,114,72,0,64,40,69,4,128,26,76,0,0,80,67,178,96,114,68,0,32,26,233,16,0,26,229,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,208,26,67,208,0,80,71,176,64,114,72,0,24,40,69,4,128,80,67,179,96,114,72,0,24,40,65,20,128,114,64,0,32,95,237,0,110,93,67,176,108,114,68,0,32,40,65,52,64,80,67,179,96,80,71,179,72,114,72,0,24,40,69,4,128,80,67,178,120,114,68,0,64,26,233,16,0,26,229,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,184,26,67,208,0,80,71,176,88,114,72,0,24,40,69,4,128,80,67,179,48,114,72,0,24,40,65,20,128,26,92,0,0,114,64,0,32,22,65,116,0,118,64,0,75,80,67,179,48,80,71,179,120,114,72,0,24,40,69,4,128,80,64,64,0,80,71,179,224,80,75,179,120,93,79,176,113,19,81,48,0,118,80,0,38,80,83,178,160,114,84,0,16,40,81,37,64,26,233,64,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,171,26,75,208,0,80,83,177,144,114,84,0,32,40,81,5,64,64,81,20,147,26,64,128,0,19,65,0,64,118,64,0,8,80,67,177,128,95,236,0,48,80,69,0,15,94,68,16,0,80,75,179,16,114,68,0,16,40,73,4,64,116,0,0,10,80,67,177,104,95,236,16,45,80,71,177,120,95,236,0,47,80,73,0,8,114,76,0,8,40,73,20,192,80,75,179,16,114,68,0,16,40,73,4,64,80,71,179,32,114,64,0,16,40,69,36,0,116,0,0,10,80,67,176,224,95,236,16,28,80,71,177,24,95,236,16,35,80,73,0,8,114,76,0,8,40,73,20,192,80,71,179,32,114,72,0,16,40,69,4,128,80,67,179,208,114,72,0,16,40,65,20,128,80,67,179,208,80,71,177,176,114,72,0,16,40,69,4,128,93,67,176,54,19,65,0,0,26,68,16,0,118,64,0,1,26,68,0,0,118,68,0,2,26,244,0,0,116,0,0,78,26,244,16,0,116,0,0,76,80,67,179,72,93,71,176,107,22,73,21,192,118,72,0,1,19,73,21,192,118,72,0,19,80,71,178,144,114,72,0,16,40,69,4,128,26,233,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,100,26,67,208,0,16,65,5,192,80,71,176,248,95,236,16,31,92,65,0,0,80,73,16,15,94,73,0,0,80,75,179,0,114,64,0,16,40,73,20,0,116,0,0,5,80,67,176,192,95,236,0,24,80,75,179,0,114,68,0,16,40,73,4,64,80,67,178,16,114,68,0,16,40,65,36,64,93,67,176,66,19,65,0,64,118,64,0,1,54,0,0,0,93,67,240,7,16,65,0,192,80,71,178,16,80,69,16,15,92,69,16,0,80,75,179,48,80,79,176,208,114,80,0,16,40,77,5,0,114,80,0,4,31,81,21,0,114,84,0,1,27,81,69,64,16,81,53,0,92,77,64,0,26,233,32,0,26,229,48,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,67,80,75,179,48,80,79,177,8,114,80,0,16,40,77,5,0,114,64,0,15,17,65,20,0,114,68,0,1,27,65,4,64,16,65,52,0,92,65,0,0,26,233,32,0,26,229,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,51,16,93,112,64,117,0,0,152,146,0,4,32,26,249,96,0,152,8,0,0,151,0,0,255,74,248,0,0,149,0,0,15,150,8,0,0,26,236,80,0,145,0,0,64,26,67,160,0,26,71,144,0,26,75,224,0,114,76,0,64,40,237,4,192,114,64,0,64,40,71,180,0,26,245,16,0,146,0,0,64,26,249,32,0,152,8,0,0,151,0,0,15,74,248,0,0,149,0,0,15,150,8,0,0,26,236,80,0,26,67,160,0,26,71,144,0,26,75,224,0,38,64,0,0,26,76,112,0,95,69,48,0,95,69,0,1,95,68,0,2,26,245,16,0,26,249,32,0,152,8,0,0,151,0,0,15,74,248,0,0,149,0,0,3,150,8,0,0,26,236,80,0,26,67,160,0,26,71,224,0,93,65,0,0,26,245,0,0,26,249,16,0,152,8,0,0,151,0,0,3,74,248,0,0,149,0,0,255,150,8,0,0,26,236,80,0,145,0,0,16,26,67,160,0,26,71,144,0,26,75,224,0,93,77,0,2,93,81,0,1,19,77,53,0,118,76,0,1,116,0,0,21,93,77,0,1,19,77,48,0,26,80,16,0,118,76,0,3,93,77,0,1,114,80,0,2,27,81,68,192,93,77,0,0,93,85,0,1,21,89,69,64,26,93,48,0,118,88,0,1,116,0,0,6,38,80,0,0,26,92,112,0,21,89,80,0,118,88,0,1,116,0,0,1,40,93,53,64,95,65,112,0,95,65,64,1,114,76,0,16,40,237,4,192,26,235,176,0,32,248,51,0,88,251,224,2,80,251,224,4,117,0,0,49,26,79,208,0,93,81,0,2,16,77,53,0,94,77,16,0,93,69,0,2,16,69,16,64,95,65,16,2,26,244,0,0,146,0,0,16,26,249,32,0,152,8,0,0,151,0,0,255,74,248,0,0,71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,204,204,204,204,204,204,0,2,0,0,0,0,0,0,2,84]);oe();var Qn={"0x15f8fd16e3281aa89e7567c5f8423f77b34983a8cd7d0a1714100c8bc3d4c8d0":{predicate:{abi:{programType:"predicate",specVersion:"1",encodingVersion:"1",concreteTypes:[{type:"b256",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b"},{type:"bool",concreteTypeId:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903"},{type:"u64",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],metadataTypes:[],functions:[{inputs:[{name:"witness_index",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],name:"main",output:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903",attributes:null}],loggedTypes:[],messagesTypes:[],configurables:[{name:"SIGNER",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b",offset:1752}]},bin:Yn},generatedAt:1725561405784},"0xee4fd742e5d265465885707e0a58a19974dbdff9292ae7345c3988ac90b1478e":{predicate:{abi:{programType:"predicate",specVersion:"1",encodingVersion:"1",concreteTypes:[{type:"b256",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b"},{type:"bool",concreteTypeId:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903"},{type:"u64",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],metadataTypes:[],functions:[{inputs:[{name:"witness_index",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],name:"main",output:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903",attributes:null}],loggedTypes:[],messagesTypes:[],configurables:[{name:"SIGNER",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b",offset:88}]},bin:new Uint8Array([26,64,48,0,80,65,0,48,26,68,80,0,186,73,0,0,50,64,4,129,80,65,0,32,93,73,0,0,80,65,0,8,50,64,4,130,32,69,19,0,82,69,16,4,74,68,0,0,58,197,196,70,242,249,157,131,208,226,220,119,59,183,124,97,151,131,241,56,156,77,1,152,187,169,180,134,128,184,1,119,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,204,204,204,204,204,204,0,2,0,0,0,0,0,0,3,48])},generatedAt:1728255070813}};oe();var Wn=[{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",isInstalled:()=>"undefined"!=typeof window&&!!window.phantom?.solana},{id:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",isInstalled:()=>"undefined"!=typeof window&&!!window.trustWallet?.solana}];var Bn=class extends yn{constructor(e){super(),this.name="Solana Wallets",this.events=n,this.metadata={image:"data:image/svg+xml;utf8;base64,PHN2ZyB3aWR0aD0iMTAxIiBoZWlnaHQ9Ijg4IiB2aWV3Qm94PSIwIDAgMTAxIDg4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMTAwLjQ4IDY5LjM4MTdMODMuODA2OCA4Ni44MDE1QzgzLjQ0NDQgODcuMTc5OSA4My4wMDU4IDg3LjQ4MTYgODIuNTE4NSA4Ny42ODc4QzgyLjAzMTIgODcuODk0IDgxLjUwNTUgODguMDAwMyA4MC45NzQzIDg4SDEuOTM1NjNDMS41NTg0OSA4OCAxLjE4OTU3IDg3Ljg5MjYgMC44NzQyMDIgODcuNjkxMkMwLjU1ODgyOSA4Ny40ODk3IDAuMzEwNzQgODcuMjAyOSAwLjE2MDQxNiA4Ni44NjU5QzAuMDEwMDkyMyA4Ni41MjkgLTAuMDM1OTE4MSA4Ni4xNTY2IDAuMDI4MDM4MiA4NS43OTQ1QzAuMDkxOTk0NCA4NS40MzI0IDAuMjYzMTMxIDg1LjA5NjQgMC41MjA0MjIgODQuODI3OEwxNy4yMDYxIDY3LjQwOEMxNy41Njc2IDY3LjAzMDYgMTguMDA0NyA2Ni43Mjk1IDE4LjQ5MDQgNjYuNTIzNEMxOC45NzYyIDY2LjMxNzIgMTkuNTAwMiA2Ni4yMTA0IDIwLjAzMDEgNjYuMjA5NUg5OS4wNjQ0Qzk5LjQ0MTUgNjYuMjA5NSA5OS44MTA0IDY2LjMxNjkgMTAwLjEyNiA2Ni41MTgzQzEwMC40NDEgNjYuNzE5OCAxMDAuNjg5IDY3LjAwNjcgMTAwLjg0IDY3LjM0MzZDMTAwLjk5IDY3LjY4MDYgMTAxLjAzNiA2OC4wNTI5IDEwMC45NzIgNjguNDE1QzEwMC45MDggNjguNzc3MSAxMDAuNzM3IDY5LjExMzEgMTAwLjQ4IDY5LjM4MTdaTTgzLjgwNjggMzQuMzAzMkM4My40NDQ0IDMzLjkyNDggODMuMDA1OCAzMy42MjMxIDgyLjUxODUgMzMuNDE2OUM4Mi4wMzEyIDMzLjIxMDggODEuNTA1NSAzMy4xMDQ1IDgwLjk3NDMgMzMuMTA0OEgxLjkzNTYzQzEuNTU4NDkgMzMuMTA0OCAxLjE4OTU3IDMzLjIxMjEgMC44NzQyMDIgMzMuNDEzNkMwLjU1ODgyOSAzMy42MTUxIDAuMzEwNzQgMzMuOTAxOSAwLjE2MDQxNiAzNC4yMzg4QzAuMDEwMDkyMyAzNC41NzU4IC0wLjAzNTkxODEgMzQuOTQ4MiAwLjAyODAzODIgMzUuMzEwM0MwLjA5MTk5NDQgMzUuNjcyMyAwLjI2MzEzMSAzNi4wMDgzIDAuNTIwNDIyIDM2LjI3N0wxNy4yMDYxIDUzLjY5NjhDMTcuNTY3NiA1NC4wNzQyIDE4LjAwNDcgNTQuMzc1MiAxOC40OTA0IDU0LjU4MTRDMTguOTc2MiA1NC43ODc1IDE5LjUwMDIgNTQuODk0NCAyMC4wMzAxIDU0Ljg5NTJIOTkuMDY0NEM5OS40NDE1IDU0Ljg5NTIgOTkuODEwNCA1NC43ODc5IDEwMC4xMjYgNTQuNTg2NEMxMDAuNDQxIDU0LjM4NDkgMTAwLjY4OSA1NC4wOTgxIDEwMC44NCA1My43NjEyQzEwMC45OSA1My40MjQyIDEwMS4wMzYgNTMuMDUxOCAxMDAuOTcyIDUyLjY4OTdDMTAwLjkwOCA1Mi4zMjc3IDEwMC43MzcgNTEuOTkxNyAxMDAuNDggNTEuNzIzTDgzLjgwNjggMzQuMzAzMlpNMS45MzU2MyAyMS43OTA1SDgwLjk3NDNDODEuNTA1NSAyMS43OTA3IDgyLjAzMTIgMjEuNjg0NSA4Mi41MTg1IDIxLjQ3ODNDODMuMDA1OCAyMS4yNzIxIDgzLjQ0NDQgMjAuOTcwNCA4My44MDY4IDIwLjU5MkwxMDAuNDggMy4xNzIxOUMxMDAuNzM3IDIuOTAzNTcgMTAwLjkwOCAyLjU2NzU4IDEwMC45NzIgMi4yMDU1QzEwMS4wMzYgMS44NDM0MiAxMDAuOTkgMS40NzEwMyAxMDAuODQgMS4xMzQwOEMxMDAuNjg5IDAuNzk3MTMgMTAwLjQ0MSAwLjUxMDI5NiAxMDAuMTI2IDAuMzA4ODIzQzk5LjgxMDQgMC4xMDczNDkgOTkuNDQxNSAxLjI0MDc0ZS0wNSA5OS4wNjQ0IDBMMjAuMDMwMSAwQzE5LjUwMDIgMC4wMDA4NzgzOTcgMTguOTc2MiAwLjEwNzY5OSAxOC40OTA0IDAuMzEzODQ4QzE4LjAwNDcgMC41MTk5OTggMTcuNTY3NiAwLjgyMTA4NyAxNy4yMDYxIDEuMTk4NDhMMC41MjQ3MjMgMTguNjE4M0MwLjI2NzY4MSAxOC44ODY2IDAuMDk2NjE5OCAxOS4yMjIzIDAuMDMyNTE4NSAxOS41ODM5Qy0wLjAzMTU4MjkgMTkuOTQ1NiAwLjAxNDA2MjQgMjAuMzE3NyAwLjE2Mzg1NiAyMC42NTQ1QzAuMzEzNjUgMjAuOTkxMyAwLjU2MTA4MSAyMS4yNzgxIDAuODc1ODA0IDIxLjQ3OTlDMS4xOTA1MyAyMS42ODE3IDEuNTU4ODYgMjEuNzg5NiAxLjkzNTYzIDIxLjc5MDVaIiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMTc0XzQ0MDMpIi8+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTc0XzQ0MDMiIHgxPSI4LjUyNTU4IiB5MT0iOTAuMDk3MyIgeDI9Ijg4Ljk5MzMiIHkyPSItMy4wMTYyMiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMDgiIHN0b3AtY29sb3I9IiM5OTQ1RkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjMiIHN0b3AtY29sb3I9IiM4NzUyRjMiLz4KPHN0b3Agb2Zmc2V0PSIwLjUiIHN0b3AtY29sb3I9IiM1NDk3RDUiLz4KPHN0b3Agb2Zmc2V0PSIwLjYiIHN0b3AtY29sb3I9IiM0M0I0Q0EiLz4KPHN0b3Agb2Zmc2V0PSIwLjcyIiBzdG9wLWNvbG9yPSIjMjhFMEI5Ii8+CjxzdG9wIG9mZnNldD0iMC45NyIgc3RvcC1jb2xvcj0iIzE5RkI5QiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8L2RlZnM+Cjwvc3ZnPgo=",install:{action:"Install",description:"Install Solana Wallet to connect to Fuel",link:"https://solana.com/ecosystem/explore?categories=wallet"}},this.config={},this.svmAddress=null,this.customPredicate=e.predicateConfig||null,Rn&&this.configProviders(e)}async _emitDisconnect(){this.svmAddress=null,await this.setupPredicate(),this.emit(this.events.connection,!1),this.emit(this.events.accounts,[]),this.emit(this.events.currentAccount,null)}async _emitConnected(){await this.setupPredicate();const e=this.web3Modal.getAddress();if(!e||!this.predicateAccount)return;this.svmAddress=e,this.emit(this.events.connection,!0);const t=this.predicateAccount.getPredicateAddress(e);this.emit(this.events.currentAccount,t);const n=await this.walletAccounts(),r=this.predicateAccount?.getPredicateAddresses(n);this.emit(this.events.accounts,r)}modalFactory(e){const t=function(e=kn){return x({enableInjected:!0,chains:Un,projectId:e,metadata:{name:"Web3Modal",description:"Web3Modal Laboratory",url:"https://lab.web3modal.com",icons:["https://avatars.githubusercontent.com/u/37784886"]}})}(e?.projectId);return function({projectId:e,solanaConfig:t}){e||console.warn("[WalletConnect Connector]: Get a project ID on https://cloud.walletconnect.com to use WalletConnect features.");const n=Wn.filter((e=>!e.isInstalled())).map((e=>e.id));return T({solanaConfig:t,allWallets:"ONLY_MOBILE",chains:Un,enableAnalytics:!1,projectId:e??kn,featuredWalletIds:n})}({projectId:e?.projectId,solanaConfig:t})}providerFactory(t){const n=In(t?.chainId??e.fuel.mainnet);return t?.fuelProvider||new r(n)}setupWatchers(){this.subscribe(this.web3Modal.subscribeEvents((e=>{switch(e.data.event){case"MODAL_OPEN":this.createModal();break;case"CONNECT_SUCCESS":{const e=this.web3Modal.getAddress()||"";if(!e||e.startsWith("0x"))return;this._emitConnected();break}case"DISCONNECT_SUCCESS":this._emitDisconnect()}})));const e=setInterval((async()=>{if(!this.web3Modal)return;const e=this.web3Modal.getAddress();e&&e!==this.svmAddress&&this._emitConnected(),!e&&this.svmAddress&&this._emitDisconnect()}),300);this.subscribe((()=>clearInterval(e)))}createModal(){this.clearSubscriptions();const e=this.modalFactory(this.config);this.web3Modal=e,D.prefetch(),this.setupWatchers()}async requireConnection(){this.web3Modal||this.createModal()}getWalletAdapter(){return new gn}getPredicateVersions(){return Qn}async configProviders(t={}){const n=In(t.chainId??e.fuel.mainnet);this.config=Object.assign(t,{fuelProvider:t.fuelProvider||new r(n)})}walletAccounts(){return this.web3Modal?new Promise((e=>{const t=this.web3Modal.getAddress();e(t?[t]:[])})):Promise.resolve([])}getAccountAddress(){return this.web3Modal?this.web3Modal.getAddress():null}async getProviders(){return this.config?.fuelProvider||(this.config=Object.assign(this.config,{fuelProvider:this.providerFactory(this.config)})),this.fuelProvider||(this.fuelProvider=sn(await this.config.fuelProvider,"Fuel provider not found")),{fuelProvider:this.fuelProvider}}async connect(){return this.createModal(),new Promise((e=>{this.web3Modal.open();const t=this.web3Modal.subscribeEvents((async n=>{switch(n.data.event){case"CONNECT_SUCCESS":e(!0),t();break;case"MODAL_CLOSE":case"CONNECT_ERROR":e(!1),t()}}))}))}async disconnect(){return this.web3Modal.disconnect(),this._emitDisconnect(),this.isConnected()}encodeTxId(e){const t=e.slice(2);return(new TextEncoder).encode(t)}async sendTransaction(e,t){const{predicate:n,transactionId:r,transactionRequest:o}=await this.prepareTransaction(e,t),i=un(o.witnesses),s=this.encodeTxId(r),a=this.web3Modal.getWalletProvider();if(!a)throw new Error("No provider found");const c=await a.signMessage(s);o.witnesses[i]=c,await n.provider.estimatePredicates(o);return(await n.sendTransaction(o)).id}async signMessageCustomCurve(e){const t=this.web3Modal.getWalletProvider();if(!t)throw new Error("No provider found");const n=await t.signMessage(c(e));return{curve:"edDSA",signature:u(n)}}static getFuelPredicateAddresses(e){const t=Object.entries(Qn).sort((([,e],[,t])=>t.generatedAt-e.generatedAt)).map((([e,{predicate:t,generatedAt:n}])=>({abi:t.abi,bin:t.bin,svmPredicate:{generatedAt:n,address:e}}))),n=(new gn).convertAddress(e);return t.map((({abi:e,bin:t,svmPredicate:r})=>({fuelAddress:an({signerAddress:n,predicate:{abi:e,bin:t}}),svmPredicate:r})))}};oe();var Gn=(e=>(e.MAINNET="solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",e.DEVNET="solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",e.TESTNET="solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",e))(Gn||{}),Zn=(e=>(e.GET_ACCOUNTS="solana_getAccounts",e.SIGN_TRANSACTION="solana_signTransaction",e.SIGN_MESSAGE="solana_signMessage",e.REQUEST_ACCOUNTS="solana_requestAccounts",e))(Zn||{}),Jn=(e=>(e.DISPLAY_URI="display_uri",e.SESSION_PING="session_ping",e.SESSION_EVENT="session_event",e.SESSION_UPDATE="session_update",e.SESSION_DELETE="session_delete",e))(Jn||{});oe(),oe(),oe(),oe(),oe();var Fn=new Uint8Array([26,64,48,0,80,65,0,48,26,68,80,0,186,73,0,0,50,64,4,129,80,65,0,32,93,73,0,0,80,65,0,8,50,64,4,130,32,69,19,0,82,69,16,4,74,68,0,0,185,221,182,123,37,192,186,128,107,173,35,97,92,196,236,99,196,251,155,10,209,76,119,215,231,148,123,131,24,19,215,185,0,0,0,0,0,0,0,160,48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102,25,69,116,104,101,114,101,117,109,32,83,105,103,110,101,100,32,77,101,115,115,97,103,101,58,10,54,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,204,204,204,204,204,204,0,2,0,0,0,0,0,0,14,88,0,0,0,0,0,0,14,112,0,0,0,0,0,0,14,104,0,0,0,0,0,0,9,164,0,0,0,0,0,0,7,240,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);oe();var qn=new Uint8Array([26,64,48,0,80,65,0,48,26,68,80,0,186,73,0,0,50,64,4,129,80,65,0,32,93,73,0,0,80,65,0,8,50,64,4,130,32,69,19,0,82,69,16,4,74,68,0,0,197,141,8,223,13,49,223,170,173,213,125,233,240,77,137,183,171,200,139,40,162,244,95,82,44,197,193,253,141,166,121,120,0,0,0,0,0,0,0,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,69,116,104,101,114,101,117,109,32,83,105,103,110,101,100,32,77,101,115,115,97,103,101,58,10,51,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,204,204,204,204,204,204,0,2,0,0,0,0,0,0,11,92,0,0,0,0,0,0,11,116,0,0,0,0,0,0,11,108,0,0,0,0,0,0,6,128]);oe();var Vn={"0x3499b76bcb35d8bc68fb2fa74fbe1760461f64f0ac19890c0bacb69377ac19d2":{predicate:{abi:{programType:"predicate",specVersion:"1",encodingVersion:"1",concreteTypes:[{type:"b256",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b"},{type:"bool",concreteTypeId:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903"},{type:"u64",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],metadataTypes:[],functions:[{inputs:[{name:"witness_index",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],name:"main",output:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903",attributes:null}],loggedTypes:[],messagesTypes:[],configurables:[{name:"SIGNER",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b",offset:216}]},bin:Fn},generatedAt:1738383921738},"0xbbae06500cd11e6c1d024ac587198cb30c504bf14ba16548f19e21fa9e8f5f95":{predicate:{abi:{programType:"predicate",specVersion:"1",encodingVersion:"1",concreteTypes:[{type:"b256",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b"},{type:"bool",concreteTypeId:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903"},{type:"u64",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],metadataTypes:[],functions:[{inputs:[{name:"witness_index",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],name:"main",output:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903",attributes:null}],loggedTypes:[],messagesTypes:[],configurables:[{name:"SIGNER",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b",offset:88}]},bin:qn},generatedAt:1728253389401},"0xfdac03fc617c264fa6f325fd6f4d2a5470bf44cfbd33bc11efb3bf8b7ee2e938":{predicate:{abi:{programType:"predicate",specVersion:"1",encodingVersion:"1",concreteTypes:[{type:"b256",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b"},{type:"bool",concreteTypeId:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903"},{type:"u64",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],metadataTypes:[],functions:[{inputs:[{name:"witness_index",concreteTypeId:"1506e6f44c1d6291cdf46395a8e573276a4fa79e8ace3fc891e092ef32d1b0a0"}],name:"main",output:"b760f44fa5965c2474a3b471467a22c43185152129295af588b022ae50b50903",attributes:null}],loggedTypes:[],messagesTypes:[],configurables:[{name:"SIGNER",concreteTypeId:"7c5ee1cecf5f8eacd1284feb5f0bf2bdea533a51e2f0c9aabe9236d335989f3b",offset:3136}]},bin:new Uint8Array([26,240,48,0,116,0,0,2,0,0,0,0,0,0,12,64,93,255,192,1,16,255,255,0,145,0,0,32,80,235,240,0,80,228,0,32,80,224,64,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,20,26,236,80,0,113,64,0,3,97,69,2,0,19,73,16,0,118,72,0,6,114,72,0,2,19,69,20,128,118,68,0,1,54,0,0,0,97,65,2,74,116,0,0,1,97,65,2,12,93,65,0,0,26,233,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,26,26,67,208,0,36,64,0,0,149,0,0,15,150,8,0,0,26,236,80,0,145,0,0,96,26,67,160,0,26,75,128,0,26,79,224,0,114,68,0,32,40,237,4,64,80,67,176,64,114,68,0,32,40,67,180,64,80,71,176,32,114,64,0,32,40,71,180,0,80,67,176,32,114,68,0,32,40,73,4,64,26,244,0,0,146,0,0,96,26,249,48,0,152,8,0,0,151,0,0,15,74,248,0,0,149,0,1,255,150,8,0,0,26,236,80,0,145,0,10,56,26,67,160,0,26,87,224,0,97,68,0,1,19,73,16,0,118,72,0,5,19,69,16,64,118,68,0,1,54,0,0,0,26,68,16,0,116,0,0,1,26,68,0,0,19,73,16,0,118,72,0,6,19,69,16,64,118,68,0,2,93,67,240,12,54,64,0,0,97,68,1,5,116,0,0,1,97,68,0,7,21,73,4,64,118,72,0,1,19,73,4,64,118,72,0,20,80,71,178,248,95,236,16,95,97,65,4,1,80,75,181,80,26,233,0,0,26,229,32,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,1,8,26,67,208,0,114,72,0,64,40,237,4,128,80,65,16,8,114,72,0,64,40,67,180,128,80,75,182,240,114,64,0,72,40,73,20,0,116,0,0,5,80,67,177,0,95,236,0,32,80,75,182,240,114,68,0,72,40,73,4,64,80,67,181,8,114,68,0,72,40,65,36,64,93,67,176,222,19,65,0,64,118,64,0,1,54,0,0,0,93,67,240,13,16,65,0,192,93,71,240,14,16,69,16,192,93,95,240,15,16,93,112,192,80,75,181,8,80,73,32,8,80,79,184,104,114,80,0,64,40,77,37,0,80,79,185,248,114,80,0,64,40,77,37,0,80,91,185,248,26,72,0,0,80,79,176,64,114,80,0,32,40,77,37,0,80,75,177,208,114,80,0,32,40,73,53,0,80,77,32,32,114,80,0,32,40,77,5,0,80,65,32,64,114,76,0,32,40,65,20,192,80,67,184,8,114,68,0,96,40,65,36,64,80,99,184,8,80,67,183,232,114,68,0,32,40,65,116,64,80,67,183,232,114,68,0,60,16,69,132,64,80,75,184,8,80,73,32,32,114,76,0,32,114,80,0,60,40,69,132,192,65,65,37,0,80,67,183,232,80,71,177,144,114,72,0,32,27,72,4,128,16,73,20,128,114,76,0,32,40,73,116,192,114,72,0,32,27,72,20,128,16,73,20,128,114,76,0,32,40,73,116,192,80,75,178,120,114,76,0,64,40,73,20,192,80,71,185,144,114,76,0,64,40,69,36,192,80,71,185,144,80,75,180,48,114,76,0,32,40,73,4,192,62,69,100,128,26,64,128,0,19,65,0,64,118,64,0,10,80,67,179,128,95,236,0,112,80,71,185,144,80,73,0,8,114,76,0,64,40,73,20,192,80,75,183,56,114,68,0,72,40,73,4,64,116,0,0,6,80,67,177,72,95,236,16,41,95,236,0,49,80,75,183,56,114,68,0,72,40,73,4,64,80,67,185,40,114,68,0,72,40,65,36,64,80,67,180,80,114,68,0,72,40,65,36,64,93,67,176,231,19,65,0,64,118,64,0,96,80,67,185,40,80,71,180,152,114,72,0,72,40,69,4,128,93,67,177,37,19,65,0,0,118,64,0,1,54,0,0,0,80,67,180,152,80,65,0,8,80,71,184,168,114,72,0,64,40,69,4,128,80,71,182,112,114,72,0,64,40,69,4,128,80,75,181,176,26,233,16,0,26,229,32,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,2,22,26,71,208,0,80,75,176,96,114,76,0,64,40,73,20,192,80,71,178,184,114,76,0,64,40,69,36,192,80,71,182,176,114,72,0,64,40,69,4,128,80,67,181,240,26,233,16,0,26,229,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,2,5,26,67,208,0,80,71,176,160,114,72,0,64,40,69,4,128,80,67,179,64,114,72,0,64,40,65,20,128,80,67,179,200,80,71,176,96,114,72,0,32,27,72,4,128,16,73,20,128,114,68,0,32,40,65,36,64,80,69,0,32,80,75,176,160,114,76,0,32,27,76,20,192,16,77,36,192,114,72,0,32,40,69,52,128,80,71,182,48,114,72,0,64,40,69,4,128,80,67,181,144,26,233,16,0,26,229,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,93,26,67,208,0,80,71,176,224,114,72,0,32,40,69,4,128,80,67,185,112,114,72,0,32,40,65,20,128,80,67,180,8,95,236,0,129,80,75,185,8,114,76,0,32,40,73,20,192,80,71,185,8,112,68,0,12,80,71,185,8,80,75,178,48,114,76,0,32,40,73,20,192,80,69,0,8,114,76,0,32,40,69,36,192,80,75,183,128,114,68,0,40,40,73,4,64,116,0,0,10,80,67,180,80,80,65,0,64,80,71,178,80,95,236,16,74,80,73,16,32,114,76,0,8,40,73,4,192,80,75,183,128,114,64,0,40,40,73,20,0,80,67,185,208,114,68,0,40,40,65,36,64,93,67,176,240,19,65,0,0,26,68,16,0,118,64,0,1,26,68,0,0,118,68,0,1,116,0,0,23,80,64,64,0,80,71,185,208,80,75,180,224,114,76,0,40,40,73,20,192,93,71,177,58,19,69,16,0,118,68,0,1,54,0,0,0,80,71,180,224,80,69,16,8,80,75,184,232,114,76,0,32,40,73,20,192,80,71,184,232,80,75,183,168,114,76,0,32,40,73,4,192,80,67,183,200,114,76,0,32,40,65,20,192,161,65,36,32,118,64,0,2,26,244,0,0,116,0,0,1,26,244,16,0,146,0,10,56,26,249,80,0,152,8,0,0,151,0,1,255,74,248,0,0,149,0,0,15,150,8,0,0,26,236,80,0,145,0,0,64,26,67,160,0,26,71,144,0,26,75,224,0,114,76,0,64,40,237,4,192,114,64,0,64,40,71,180,0,26,245,16,0,146,0,0,64,26,249,32,0,152,8,0,0,151,0,0,15,74,248,0,0,149,0,0,127,150,8,0,0,26,236,80,0,145,0,0,200,26,67,160,0,26,71,144,0,26,75,224,0,93,79,240,16,16,77,48,192,26,80,0,0,38,80,0,0,26,80,112,0,95,237,64,18,95,236,0,19,95,236,0,20,80,83,176,144,80,87,176,32,114,88,0,64,40,85,5,128,26,233,80,0,26,229,64,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,34,80,67,176,144,80,83,176,168,114,84,0,32,40,81,53,64,80,79,176,168,80,83,176,120,114,84,0,24,40,81,5,64,26,233,64,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,1,79,26,83,208,0,80,87,176,96,114,88,0,24,40,85,5,128,26,233,80,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,222,26,67,208,0,65,77,68,0,114,64,0,32,40,237,52,0,114,64,0,32,40,71,180,0,26,245,16,0,146,0,0,200,26,249,32,0,152,8,0,0,151,0,0,127,74,248,0,0,149,0,0,31,150,8,0,0,26,236,80,0,145,0,0,64,26,67,160,0,26,71,144,0,26,75,224,0,114,76,0,32,40,237,4,192,26,235,176,0,26,229,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,16,80,65,0,32,80,79,176,32,114,80,0,32,40,77,5,0,26,233,48,0,26,229,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,6,26,244,0,0,146,0,0,64,26,249,32,0,152,8,0,0,151,0,0,31,74,248,0,0,149,0,3,255,150,8,0,0,26,236,80,0,145,0,1,88,26,67,160,0,26,91,144,0,26,87,224,0,114,68,0,32,38,68,0,0,26,68,112,0,80,75,176,72,114,76,0,32,40,73,4,192,93,65,32,0,93,77,32,1,93,81,32,2,93,73,32,3,95,69,0,0,95,69,48,1,95,69,64,2,95,69,32,3,80,67,176,104,26,233,16,0,114,68,0,32,26,229,16,0,26,225,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,171,26,67,208,0,80,71,176,16,114,72,0,16,40,69,4,128,114,72,0,16,40,237,4,128,80,67,177,0,114,72,0,16,40,67,180,128,80,75,176,136,26,233,0,0,26,229,32,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,187,26,67,208,0,93,73,0,0,93,65,0,1,80,79,177,32,114,80,0,16,40,77,21,0,26,233,48,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,210,26,71,208,0,80,95,176,48,95,237,32,6,95,237,0,7,95,237,16,8,80,67,176,168,114,68,0,24,40,65,116,64,26,233,0,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,109,26,99,208,0,19,65,128,0,118,64,0,100,93,65,96,2,19,65,0,0,118,64,0,95,93,65,96,2,16,101,6,0,93,65,96,2,80,71,176,192,114,72,0,16,40,69,100,128,26,233,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,103,26,71,208,0,22,69,22,64,118,68,0,1,116,0,0,58,80,71,176,224,114,72,0,16,40,69,100,128,26,233,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,123,26,71,208,0,80,75,176,208,114,76,0,16,40,73,100,192,26,233,32,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,82,26,75,208,0,21,77,148,128,26,81,16,0,118,76,0,1,116,0,0,6,38,100,0,0,26,80,112,0,21,77,32,0,118,76,0,1,116,0,0,1,40,81,20,128,80,71,176,120,26,233,64,0,26,229,144,0,26,225,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,74,26,71,208,0,80,75,176,32,114,76,0,16,40,73,20,192,80,71,177,72,114,76,0,16,40,69,36,192,80,71,177,16,114,76,0,16,40,69,36,192,80,75,176,152,26,233,16,0,26,229,32,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,89,26,71,208,0,93,73,16,0,93,69,16,1,95,89,32,0,95,89,16,1,80,71,176,240,114,72,0,16,40,69,100,128,26,233,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,65,26,71,208,0,16,65,20,0,80,71,177,48,114,72,0,24,40,69,116,128,26,233,16,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,116,26,71,208,0,40,65,22,0,95,89,144,2,116,0,0,2,114,64,0,24,40,89,116,0,26,244,0,0,146,0,1,88,26,249,80,0,152,8,0,0,151,0,3,255,74,248,0,0,149,0,0,3,150,8,0,0,26,236,80,0,26,67,160,0,26,71,224,0,93,65,0,2,26,245,0,0,26,249,16,0,152,8,0,0,151,0,0,3,74,248,0,0,149,0,0,3,150,8,0,0,26,236,80,0,26,67,160,0,26,71,224,0,93,65,0,1,26,245,0,0,26,249,16,0,152,8,0,0,151,0,0,3,74,248,0,0,149,0,0,31,150,8,0,0,26,236,80,0,145,0,0,32,26,67,160,0,26,71,144,0,26,75,128,0,26,79,224,0,80,83,176,16,95,237,0,2,95,237,16,3,114,64,0,16,40,237,68,0,114,64,0,16,40,75,180,0,26,245,32,0,146,0,0,32,26,249,48,0,152,8,0,0,151,0,0,31,74,248,0,0,149,0,0,3,150,8,0,0,26,236,80,0,26,67,160,0,26,71,224,0,93,65,0,0,26,245,0,0,26,249,16,0,152,8,0,0,151,0,0,3,74,248,0,0,149,0,0,63,150,8,0,0,26,236,80,0,145,0,0,32,26,67,160,0,26,71,144,0,26,75,224,0,80,79,176,16,114,80,0,16,40,77,5,0,26,233,48,0,32,248,51,0,88,251,224,2,80,251,224,4,116,0,0,19,26,79,208,0,38,76,0,0,26,80,112,0,21,85,48,0,118,84,0,1,116,0,0,5,114,84,0,16,40,237,5,64,26,67,176,0,93,65,0,0,40,81,4,192,95,69,64,0,95,69,48,1,26,245,16,0,146,0,0,32,26,249,32,0,152,8,0,0,151,0,0,63,74,248,0,0,149,0,0,7,150,8,0,0,26,236,80,0,145,0,0,16,26,67,160,0,26,71,224,0,114,72,0,16,40,237,4,128,26,67,176,0,93,65,0,1,26,245,0,0,146,0,0,16,26,249,16,0,152,8,0,0,151,0,0,7,74,248,0,0,149,0,0,7,150,8,0,0,26,236,80,0,145,0,0,16,26,67,160,0,26,71,224,0,114,72,0,16,40,237,4,128,26,235,176,0,32,248,51,0,88,251,224,2,80,251,224,4,117,0,0,72,26,67,208,0,26,245,0,0,146,0,0,16,26,249,16,0,152,8,0,0,151,0,0,7,74,248,0,0,149,0,0,15,150,8,0,0,26,236,80,0,26,67,160,0,26,71,144,0,26,75,224,0,114,76,0,64,40,69,4,192,26,245,16,0,26,249,32,0,152,8,0,0,151,0,0,15,74,248,0,0,71,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,69,116,104,101,114,101,117,109,32,83,105,103,110,101,100,32,77,101,115,115,97,103,101,58,10,51,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,204,204,204,204,204,204,0,2,0,0,0,0,0,0,10,132,0,0,0,0,0,0,10,156,0,0,0,0,0,0,10,148,0,0,0,0,0,0,6,124])},generatedAt:1725479113004}};oe();var Xn=e=>e,Hn={"0x3499b76bcb35d8bc68fb2fa74fbe1760461f64f0ac19890c0bacb69377ac19d2":{encodeTxId:e=>{const t=e.slice(2);return B(t)}},"0xbbae06500cd11e6c1d024ac587198cb30c504bf14ba16548f19e21fa9e8f5f95":{encodeTxId:Xn},"0xfdac03fc617c264fa6f325fd6f4d2a5470bf44cfbd33bc11efb3bf8b7ee2e938":{encodeTxId:Xn}};oe();var Kn="undefined"!=typeof window,$n=Kn?window:null;function er(e){return e.current?e.connections.get(e.current)?.chainId:void 0}function tr(e){if(!e)throw new Error("config is required");e.subscribe((e=>({connections:e.connections,status:e.status,current:e.current})),((t,n)=>{const r=_(e);if("connected"!==t.status||null==t.current)return;const o=t.connections.get(t.current)?.connector,i=er(t);null==i||r.some((e=>e.id===i))||setTimeout((()=>{P(e,{chainId:r[0].id,connector:o}).catch((t=>{console.log(t),L(e)}))}),2e3)}),{equalityFn:(e,t)=>er(e)===er(t)&&e.status===t.status})}oe(),oe(),oe();var nr=class extends yn{constructor(e){super(),this.name="Ethereum Wallets",this.installed=!0,this.events=n,this.metadata={image:"data:image/svg+xml;utf8;base64,PHN2ZyB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNTMgMzM1LjEyMkwyNTUuODg2IDMzOEwzODggMjU5Ljk4N0wyNTUuODg2IDQxTDI1MyA1MC43OTgzVjMzNS4xMjJaIiBmaWxsPSIjMzQzNDM0Ii8+CjxwYXRoIGQ9Ik0yNTYgMzM4VjQxTDEyNCAyNTkuOTg2TDI1NiAzMzhaIiBmaWxsPSIjOEM4QzhDIi8+CjxwYXRoIGQ9Ik0yNTQgNDY1LjI4MUwyNTUuNjI4IDQ3MEwzODggMjg1TDI1NS42MjkgMzYyLjU2M0wyNTQuMDAxIDM2NC41MzJMMjU0IDQ2NS4yODFaIiBmaWxsPSIjM0MzQzNCIi8+CjxwYXRoIGQ9Ik0xMjQgMjg1TDI1NiA0NzBWMzYyLjU2MkwxMjQgMjg1WiIgZmlsbD0iIzhDOEM4QyIvPgo8cGF0aCBkPSJNMjU2IDIwMFYzMzhMMzg4IDI1OS45ODhMMjU2IDIwMFoiIGZpbGw9IiMxNDE0MTQiLz4KPHBhdGggZD0iTTI1NiAyMDBMMTI0IDI1OS45ODhMMjU2IDMzOFYyMDBaIiBmaWxsPSIjMzkzOTM5Ii8+Cjwvc3ZnPgo=",install:{action:"Install",description:"Install Ethereum Wallet to connect to Fuel",link:"https://ethereum.org/en/wallets/find-wallet/"}},this.config={},this.storage=e.storage||new l($n?.localStorage);const t=e?.wagmiConfig??Y({chains:[G,Z],syncConnectedChain:!0,transports:{[Z.id]:Q(),[G.id]:Q()},connectors:[W({shimDisconnect:!1})]});!1!==t._internal.syncConnectedChain&&tr(t),this.customPredicate=e.predicateConfig||null,Kn&&this.configProviders({...e,wagmiConfig:t}),this.loadPersistedConnection()}async loadPersistedConnection(){const e=this.getWagmiConfig();e&&(await(this.config?.fuelProvider),await this.requireConnection(),await this.handleConnect(k(e),await this.getAccountAddress()))}createModal(){this.clearSubscriptions(),this.web3Modal=this.modalFactory(this.config),D.prefetch(),this.setupWatchers()}modalFactory(e){return function({wagmiConfig:e,projectId:t="00000000000000000000000000000000"}){return t||console.warn("[WalletConnect Connector]: Get a project ID on https://cloud.walletconnect.com to use WalletConnect features."),J({wagmiConfig:{...e,enableWalletConnect:!!t},allWallets:"ONLY_MOBILE",enableAnalytics:!1,allowUnsupportedChain:!0,projectId:t})}({projectId:e.projectId,wagmiConfig:e.wagmiConfig})}async handleConnect(e,t=null){const n=t??e?.address;await this.accountHasValidation(n)&&n&&(await this.setupPredicate(),this.emit(this.events.connection,!0),this.emit(this.events.currentAccount,this.predicateAccount?.getPredicateAddress(n)),this.emit(this.events.accounts,this.predicateAccount?.getPredicateAddresses(await this.walletAccounts())))}setupWatchers(){const e=this.getWagmiConfig();if(!e)throw new Error("Wagmi config not found");this.subscribe(U(e,{onChange:async e=>{switch(e.status){case"connected":await this.handleConnect(e);break;case"disconnected":this.emit(this.events.connection,!1),this.emit(this.events.currentAccount,null),this.emit(this.events.accounts,[])}}}))}getWagmiConfig(){return this.config?.wagmiConfig}getWalletAdapter(){return new pn}getPredicateVersions(){return Vn}async configProviders(t={}){const n=In(t?.chainId??e.fuel.mainnet);this.config=Object.assign(t,{fuelProvider:t.fuelProvider||new r(n)})}async walletAccounts(){return Promise.resolve(await this.getAccountAddresses())}async getAccountAddress(){if(!this.getWagmiConfig())return null;const e=await this.getAccountAddresses();if(!e)return null;const t=e[0];return t&&await this.accountHasValidation(t)?t:null}async getAccountAddresses(){const e=this.getWagmiConfig();if(!e)return null;const{addresses:t=[]}=k(e),n=await this.getAccountValidations(t);return t.filter(((e,t)=>n[t]))}async requireConnection(){const e=this.getWagmiConfig();if(this.web3Modal||this.createModal(),this.config.skipAutoReconnect||!e)return;const{status:t,connections:n}=e.state;"disconnected"===t&&n.size>0&&await R(e)}async getProviders(){if(this.fuelProvider&&this.ethProvider)return{fuelProvider:this.fuelProvider,ethProvider:this.ethProvider};this.fuelProvider||(this.fuelProvider=sn(await this.config.fuelProvider,"Fuel provider is not available"));const e=this.getWagmiConfig(),t=e?await(k(e).connector?.getProvider?.()):void 0;return{fuelProvider:this.fuelProvider,ethProvider:t}}async connect(){const e=this.getWagmiConfig();if(!e)throw new Error("Wagmi config not found");if("validated"===await this.requestSignatures(e))return!0;this.createModal(),this.web3Modal.open();const t=this.web3Modal.subscribeEvents((async n=>{switch(n.data.event){case"MODAL_OPEN":this.createModal();break;case"CONNECT_SUCCESS":{const{addresses:n=[]}=k(e);let r=!1;for(const e of n)await this.accountHasValidation(e)||(r=!0,this.storage.setItem(`SIGNATURE_VALIDATION_${e}`,"pending"));if(r){const e={type:this.events.currentConnector,data:this,metadata:{pendingSignature:!0}};this.emit(this.events.currentConnector,e)}t();break}case"MODAL_CLOSE":case"CONNECT_ERROR":t()}}));return!1}async getAccountValidations(e){return Promise.all(e.map((async e=>"true"===await this.storage.getItem(`SIGNATURE_VALIDATION_${e}`))))}async accountHasValidation(e){if(!e)return!1;const[t]=await this.getAccountValidations([e]);return t}async requestSignatures(e){const t=k(e),{addresses:n=[],isConnected:r}=t;for(const e of n)try{await this.requestSignature(e)}catch(e){throw this.disconnect(),e}if(r)try{return await this.handleConnect(t),"validated"}catch(e){throw this.disconnect(),e}return"pending"}async requestSignature(e){return new Promise((async(t,n)=>{if(await this.accountHasValidation(e))return t(!0);const r=setTimeout((()=>{n(new Error("User didn't provide signature in less than 1 minute"))}),6e4),{ethProvider:o}=await this.getProviders();o&&this.signAndValidate(o,e).then((()=>{clearTimeout(r),this.storage.setItem(`SIGNATURE_VALIDATION_${e}`,"true"),t(!0)})).catch((t=>{clearTimeout(r),this.storage.removeItem(`SIGNATURE_VALIDATION_${e}`);const o={type:this.events.currentConnector,data:this,metadata:{pendingSignature:!1}};this.emit(this.events.currentConnector,o),n(t)}))}))}async disconnect(){const e=this.getWagmiConfig();if(!e)throw new Error("Wagmi config not found");const{connector:t,isConnected:n}=k(e);return await L(e,{connector:t}),n||!1}async sendTransaction(e,t,n){const{ethProvider:r,fuelProvider:o}=await this.getProviders(),{request:i,transactionId:s,account:a,transactionRequest:c}=await this.prepareTransaction(e,t),u=this.encodeTxId(s),l=await(r?.request({method:"personal_sign",params:[u,a]})),d=un(c.witnesses),h=N(z(l)).compact;c.witnesses[d]=h;const f=await o.estimatePredicates(i);let p=f;n?.onBeforeSend&&(p=await n.onBeforeSend(f));return(await o.operations.submit({encodedTransaction:b(p.toTransactionBytes())})).submit.id}isValidPredicateAddress(e){return e in Hn}encodeTxId(e){if(!this.isValidPredicateAddress(this.predicateAddress))return e;return Hn[this.predicateAddress].encodeTxId(e)}validateSignature(e,t,n){const r=Uint8Array.from(Buffer.from(t)),o=E(r),{v:i,r:s,s:a}=O(n),c=S(o,i,s,a);return Buffer.from(C(c)).toString("hex").toLowerCase()===e.toLowerCase().slice(2)}async signAndValidate(e,t){try{if(!e)throw new Error("No Ethereum provider found");if(t&&!t.startsWith("0x"))throw new Error("Invalid account address");const n=t||(await e.request({method:"eth_requestAccounts"}))[0];if(!n)throw new Error("No Ethereum account selected");const r=`Sign this message to verify the connected account: ${n}`,o=await e.request({method:"personal_sign",params:[B(r),n]});if(!this.validateSignature(n,r,o))throw new Error("Signature address validation failed");return!0}catch(e){throw this.disconnect(),e}}async signMessageCustomCurve(e){const{ethProvider:t}=await this.getProviders();if(!t)throw new Error("Eth provider not found");const n=await this.getAccountAddress();if(!n)throw new Error("No connected accounts");return{curve:"secp256k1",signature:await t.request({method:"personal_sign",params:[n,e]})}}static getFuelPredicateAddresses(e){const t=Object.entries(Vn).sort((([,e],[,t])=>t.generatedAt-e.generatedAt)).map((([e,{predicate:t,generatedAt:n}])=>({abi:t.abi,bin:t.bin,evmPredicate:{generatedAt:n,address:e}}))),n=(new pn).convertAddress(e);return t.map((({abi:e,bin:t,evmPredicate:r})=>({fuelAddress:an({signerAddress:n,predicate:{abi:e,bin:t}}),evmPredicate:r})))}};function rr({devMode:e,wcProjectId:t,burnerWalletConfig:n,ethWagmiConfig:r,ethSkipAutoReconnect:o,solanaConfig:i,chainId:s,fuelProvider:a}={}){const c=[new Sn,new rn,new Pn,new nr({projectId:t,wagmiConfig:r,chainId:s,fuelProvider:a,skipAutoReconnect:o}),new Bn({projectId:t,chainId:s,fuelProvider:a})];return e&&c.push(new Cn,new An({...n,chainId:s,fuelProvider:a})),c}oe();export{zn as APP_IMAGE,rn as BakoSafeConnector,An as BurnerWalletConnector,Dn as CONNECTOR_SCRIPT,xn as CONTENT_SCRIPT_NAME,Tn as EVENT_MESSAGE,Sn as FuelWalletConnector,Cn as FuelWalletDevelopmentConnector,Pn as FueletWalletConnector,On as MessageTypes,Gn as SolanaChains,Bn as SolanaConnector,Jn as SolanaEvents,Zn as SolanaMethods,nr as WalletConnectConnector,Gt as createConfig,rr as defaultConnectors,Zt as hasSignMessageCustomCurve,tr as subscribeAndEnforceChain};//# sourceMappingURL=index.mjs.map